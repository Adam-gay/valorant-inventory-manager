(this.webpackJsonpVSM=this.webpackJsonpVSM||[]).push([[0],{106:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(13),o=n.n(c),r=(n(106),n(16)),s=n.n(r),l=n(28),d=n(7),u=n(87),b=n(195),j=n(196),p=n(85),f=n(18),x=n(71),h=n(78),m=n(79),O="0.1.0b1",g="ws://localhost:8765",v=10,y="";var w=function(){function e(){Object(h.a)(this,e),this.socket=null,this.subscriptions={},this.listening=!1}return Object(m.a)(e,[{key:"connect",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.listening=!1,e.abrupt("return",new Promise((function(e,n){if(null!==t.socket&&(null===t.socket||1===t.socket.readyState))return e();try{console.log("connecting"),t.socket=new WebSocket(g),console.log(t.socket),t.socket.onerror=function(e){return console.log(e),k=null,n()},t.socket.onopen=function(n){return console.log("opened"),console.log(t.socket),t.messageHandler(),e()}}catch(a){return console.log("rip"),t.socket=null,n()}})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.socket)try{this.socket.send(JSON.stringify(t))}catch(n){console.log("you fucking moron this state should never occur")}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.socket){e.next=12;break}e.prev=1,this.socket.send(JSON.stringify(t)),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),console.log("you fucking moron this state should never occur"),e.abrupt("return",!1);case 9:this.subscribe(t.request,n,!0),e.next=13;break;case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[1,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"message";void 0===this.subscriptions[e]&&(this.subscriptions[e]=[]);var i=!1;for(var c in this.subscriptions[e])c.callback===t&&(i=!0);console.log("existing for ".concat(e,": ").concat(i)),!1===i&&this.subscriptions[e].push({callback:t,removable:n,type:a}),console.log(this.subscriptions)}},{key:"unsubscribe",value:function(e,t){void 0!==this.subscriptions[e]&&(this.subscriptions[e]=this.subscriptions[e].filter((function(e){return e.callback!==t}))),0===this.subscriptions[e].length&&delete this.subscriptions[e]}},{key:"messageHandler",value:function(){var e=this;this.listening||(this.listening=!0,this.socket.onmessage=function(){var t=Object(l.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=JSON.parse(n.data),Object.keys(e.subscriptions).forEach((function(t){if(a.event===t){var n,i=Object(x.a)(e.subscriptions[t]);try{for(i.s();!(n=i.n()).done;){var c=n.value;"message"===c.type&&(console.log(a),c.callback(a.data),c.removable&&e.unsubscribe(t,c.callback))}}catch(o){i.e(o)}finally{i.f()}}}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.socket.onclose=function(){var t=Object(l.a)(s.a.mark((function t(n){var a,i,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("closed"),a=Object(x.a)(e.subscriptions.onclose);try{for(a.s();!(i=a.n()).done;)c=i.value,console.log(c),"onclose"===c.type&&(c.callback(),c.removable&&e.unsubscribe("onclose",c.callback))}catch(n){a.e(n)}finally{a.f()}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),e}(),k=new w,S=k,C=n(147),N=n(24),_=n(158),D=n(119),I=n(159),E=n(53),A=n(152),q=n(200),L=n(149),B=n(160),T=n(161),G=n(162),W=n(163),z=n(121),F=n(201),R=n(151),V=n(202),M=n(198),P=n(155),H=n(156),U=n(157),J=n(1),Y=Object(C.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",justifySelf:"flex-start",justifyContent:"center",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"darkgrey",outline:"1px solid slategrey",backgroundClip:"padding-box"}},header:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignContent:"center",width:"100%",height:"75px",margin:"0px 20px 0px 20px",backgroundColor:"#424242",paddingTop:"0px",position:"sticky",top:0,zIndex:3},closeButton:{width:"40px",height:"40px",alignSelf:"center",justifySelf:"flex-end",marginRight:"0px"},body:{width:"92%",alignSelf:"center",display:"flex",flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",overflowY:"auto"},section:{width:"98%",display:"flex",flexDirection:"column",flexGrow:1,alignSelf:"center",marginBottom:"10px"},sectionHeader:{marginBottom:"8px",fontSize:"1.5rem"},variable:{width:"100%",display:"flex",flexDirection:"row",marginBottom:"10px"},variableName:{fontSize:"1.2rem",flexGrow:1},descriptor:{width:"75%"},selector:{width:"25%",display:"flex",flexDirection:"row",justifySelf:"flex-end",flexGrow:1,justifyContent:"center",alignItems:"center"}}}));var X=function(e){var t=Y(),n=Object(N.a)(),i=Object(a.useState)(null),c=Object(d.a)(i,2),o=c[0],r=c[1];function s(e,t){switch(void 0===t.attrs&&(t.attrs=[]),t.type){case"bool":return Object(J.jsx)(F.a,{color:"primary",checked:t.value,onClick:function(e){t.value=e.target.checked,console.log(o),r(o)},disabled:t.attrs.includes("locked")});case"list_selection":return Object(J.jsxs)(R.a,{style:{width:"100%"},children:[Object(J.jsx)(V.a,{id:e,style:{width:"100%"},children:t.display}),Object(J.jsx)(M.a,{value:t.value,children:t.options.map((function(e,t){return Object(J.jsx)(P.a,{value:t,children:e})}))})]});default:return null}}function l(e){return Object(J.jsxs)("div",{className:t.section,children:[Object(J.jsx)(E.a,{variant:"h6",className:t.sectionHeader,children:e.display}),Object.keys(e.settings).map((function(n){return function(e,n){return Object(J.jsxs)("div",{className:t.variable,children:[Object(J.jsxs)("div",{className:t.descriptor,children:[Object(J.jsx)(E.a,{variant:"subtitle1",className:t.variableName,style:{height:void 0!==n.description?"auto":"100%"},children:void 0!==n.display?n.display:e}),void 0!==n.description?Object(J.jsx)(E.a,{variant:"body1",children:n.description}):null]}),Object(J.jsx)("div",{className:t.selector,children:s(e,n)})]})}(n,e.settings[n])})),Object(J.jsx)(H.a,{style:{margin:"10px 10px"}})]})}return Object(a.useEffect)((function(){console.log("mounted"),function(){function e(e){console.log(e),r(e)}S.request({request:"fetch_config"},e)}()}),[]),Object(J.jsxs)("div",{className:t.root,children:[e.showHeader?Object(J.jsxs)("div",{className:t.header,children:[Object(J.jsx)(E.a,{variant:"h4",style:{color:n.palette.primary.light,fontSize:"2.2rem",flexGrow:1,margin:"auto"},children:"Settings"}),Object(J.jsx)(L.a,{"aria-label":"randomize","aria-controls":"menu-appbar","aria-haspopup":"true",edge:"end",color:"inherit",className:t.closeButton,onClick:function(){return e.close(!1)},children:Object(J.jsx)(U.a,{})})]}):null,null!==o?Object(J.jsx)("div",{className:t.body,children:Object.keys(o).map((function(e){return l(o[e])}))}):null]})},K=Object(C.a)((function(e){return{backdrop:{display:"flex",alignItems:"center",justifyContent:"center"},mainPaper:{margin:"auto",width:"40%",height:"70vh",minWidth:"450px",maxWidth:"600px",display:"flex",justifySelf:"flex-start",justifyContent:"center",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto"}}}));var Q=function(e){var t=K();return Object(N.a)(),Object(J.jsx)(z.a,{open:e.open,className:t.backdrop,style:{zIndex:4},children:Object(J.jsx)(_.a,{direction:"up",in:e.open,mountOnEnter:!0,unmountOnExit:!0,children:Object(J.jsx)(D.a,{variant:"outlined",className:t.mainPaper,children:Object(J.jsx)(X,{close:e.close,showHeader:!0})})})})},Z=Object(C.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},appBar:{margin:"12px",display:"flex",flexDirection:"column",height:"50px",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0)",border:"0px rgb(255,255,255) solid"},statusBar:{alignSelf:"center",justifySelf:"center",display:"flex",marginRight:e.spacing(1),flexGrow:1},inGameIndicator:{alignSelf:"center",color:"#9de069"},action:{width:"40px",height:"40px",margin:e.spacing(.25)},loading:{animation:"spin 4s linear infinite"}}}));var $=function(e){var t=Z(),n=Object(N.a)(),c=i.a.useState(!1),o=Object(d.a)(c,2),r=o[0],u=o[1],b=i.a.useState(!1),j=Object(d.a)(b,2),p=j[0],f=j[1],x=i.a.useState(!1),h=Object(d.a)(x,2),m=h[0],O=h[1];function g(){return(g=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){u(!1)},u(!0),S.request({request:"randomize_skins"},t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){S.subscribe("game_state",(function(e){f(e.state)}))}),[]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Q,{open:m,close:O}),Object(J.jsx)(_.a,{direction:"down",in:!0,children:Object(J.jsx)(D.a,{variant:"outlined",className:t.appBar,position:"static",children:Object(J.jsxs)(I.a,{style:{height:"100%",width:"100%"},children:[Object(J.jsx)(E.a,{variant:"h6",style:{flexGrow:0,marginRight:n.spacing(2)},children:"placeholder title"}),Object(J.jsx)("div",{className:t.statusBar,children:Object(J.jsx)(A.a,{in:p,children:Object(J.jsx)(q.a,{title:"In game",children:Object(J.jsx)(B.a,{className:t.inGameIndicator})})})}),Object(J.jsxs)("div",{className:t.actions,children:[Object(J.jsx)(L.a,{"aria-label":"randomize","aria-controls":"menu-appbar","aria-haspopup":"true",edge:"end",onClick:r?null:function(){return g.apply(this,arguments)},color:"inherit",className:t.action,children:r?Object(J.jsx)(T.a,{className:t.loading}):Object(J.jsx)(G.a,{})}),Object(J.jsx)(L.a,{"aria-label":"account button lol","aria-controls":"menu-appbar","aria-haspopup":"true",edge:"end",color:"inherit",className:t.action,onClick:function(){return O(!0)},children:Object(J.jsx)(W.a,{})})]})]})})})]})},ee=Object(C.a)((function(e){return{footer:{alignSelf:"flex-end",justifySelf:"flex-end",height:"50px",width:"100%",padding:"10px",display:"flex",flexDirection:"row"},versionText:{alignSelf:"flex-end",width:"50%",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",flexGrow:1,opacity:.5}}}));var te=function(e){var t=ee();return Object(N.a)(),Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("div",{className:t.footer,children:Object(J.jsx)("div",{className:t.versionText,children:Object(J.jsxs)(E.a,{variant:"subtitle2",children:["client v",O," / server v",y]})})})})},ne=n(185),ae=n(207),ie=n(164),ce=Object(C.a)((function(e){return{}}));var oe=function(e){ce(),Object(N.a)();var t=e.equippedChromaIndex,n=Object.keys(e.levelData).length.toString(),i=Object(a.useState)(e.equippedLevelIndex.toString()),c=Object(d.a)(i,2),o=c[0],r=c[1];return Object(a.useEffect)((function(){if(1!==t&&o!==n){r(n);var a=Object.values(e.levelData)[n-1];e.setter(a)}}),[t]),Object(a.useEffect)((function(){r(e.equippedLevelIndex.toString())}),[e.equippedLevelIndex]),"1"!==n?Object(J.jsx)("div",{style:{width:"50%",display:"flex",flexDirection:"row",justifyContent:"flex-start",height:"45px"},children:Object(J.jsx)(ae.a,{value:o,exclusive:!0,onChange:function(t,n){if(null!==n){r(n);var a=Object.values(e.levelData)[n-1];e.setter(a)}},"aria-label":"chroma level",style:{width:"90%",height:"95%"},children:Object.keys(e.levelData).map((function(a){var i=e.levelData[a],c=i.index.toString();return Object(J.jsx)(q.a,{title:i.level_type,disabled:!i.unlocked||!(1===t&&1!==c)&&c!==n,arrow:!0,children:Object(J.jsx)(ie.a,{selected:o===c,value:c,"aria-label":i.index,style:{border:i.favorite?"1px #996D2D solid":null},children:i.shorthand_display_name})},i.display_name)}))})}):null},re=Object(C.a)((function(e){return{}}));var se=function(e){re(),e.equippedLevelIndex;var t=Object.keys(e.chromaData).length.toString(),n=(Object.keys(e.levelData).length.toString(),Object(a.useState)(e.equippedChromaIndex.toString())),i=Object(d.a)(n,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){o(e.equippedChromaIndex.toString())}),[e.equippedChromaIndex]),"1"!==t?Object(J.jsx)("div",{style:{flexGrow:1,width:"50%",display:"flex",flexDirection:"row",justifyContent:"flex-end",height:"45px"},children:Object(J.jsx)(ae.a,{value:c,exclusive:!0,onChange:function(t,n){if(null!==n){o(n);var a=Object.values(e.chromaData)[n-1];e.setter(a)}},"aria-label":"skin level",style:{width:"90%",height:"95%",justifyContent:"flex-end",marginLeft:0},children:Object.keys(e.chromaData).map((function(t){var n=e.chromaData[t],a=n.index.toString();return null!==n.swatch_icon?Object(J.jsx)(q.a,{title:n.unlocked?n.display_name:"".concat(n.display_name," (Locked)"),disabled:!n.unlocked,arrow:!0,children:Object(J.jsx)(ie.a,{selected:c===a,value:a,"aria-label":n.index,style:{border:n.favorite?"1px #996D2D solid":null},children:Object(J.jsx)("img",{alt:n.display_name,src:n.swatch_icon,style:{width:"25px",height:"auto",filter:n.unlocked?"":"grayscale(90%)"}})})},n.display_name):null}))})}):null},le=Object(C.a)((function(e){return{weaponPaper:{width:"100%",height:"75px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"0.1s ease-out !important","&:hover":{border:"1px ".concat(e.palette.primary.main," solid")}},container:{width:"93%",height:"90%",display:"flex"},tierImage:{height:"25px",alignSelf:"flex-end",margin:"3px 3px",position:"relative",bottom:"-2px",objectFit:"contain",objectPosition:"left center"},favoriteButton:{alignSelf:"flex-end",right:"2px",height:"25px",objectPosition:"center center"}}}));var de=function(e){var t=le(),n=Object(N.a)(),i=e.skinData,c="2f59173c-4bed-b6c3-2191-dea9b58be9c7"===e.weaponData.uuid,o=e.skinData.favorite,r=Object(a.useState)(i.uuid===e.equipped.uuid),s=Object(d.a)(r,2),l=s[0],u=s[1];return Object(a.useEffect)((function(){e.equipped.uuid===i.uuid?u(!0):u(!1)}),[e.equipped]),Object(J.jsx)(D.a,{variant:"outlined",className:t.weaponPaper,onClick:function(){e.equip(i.uuid)},style:{border:o?"1px ".concat(n.palette.warning.light," solid"):l?"1px ".concat(n.palette.primary.light," solid"):null},children:Object(J.jsx)("div",{className:t.container,style:{backgroundImage:"url(".concat(i.display_icon,")"),backgroundSize:c?"auto 87%":"contain",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",flexDirection:c?"column":"row",justifyContent:c?"flex-end":null},children:Object(J.jsx)("img",{alt:i.content_tier.display_name,src:i.content_tier.display_icon,className:t.tierImage,style:{left:c?"6px":"-6px"}})})})},ue=n(165),be=n(166),je=n(167),pe=n(168),fe=n(169),xe=Object(C.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},header:{width:"auto",display:"flex",marginTop:"15px",flexWrap:"wrap",flexDirection:"row-reverse"},headerButton:{marginLeft:e.spacing(.25)},loading:{animation:"spin 4s linear infinite"}}}));var he=function(e){var t=xe(),n=(Object(N.a)(),e.equippedSkinData),a=e.inventoryWeaponData,i=e.saving,c=e.saveCallback,o=e.isFavorite,r=e.favoriteCallback,s=e.isLocked,l=e.lockCallback,d=e.weightCallback;return Object(J.jsxs)("div",{className:t.header,children:[Object(J.jsxs)("div",{style:{display:"flex",order:2,flexGrow:1},children:[Object(J.jsx)("div",{style:{width:"auto",alignSelf:"center"},children:"Standard"!==n.content_tier.dev_name?Object(J.jsx)("img",{alt:n.content_tier.dev_name,src:n.content_tier.display_icon,style:{width:"auto",height:"40px",justifySelf:"center",marginRight:"10px"}}):null}),Object(J.jsxs)("div",{children:[Object(J.jsx)(E.a,{variant:"h5",children:n.display_name}),Object(J.jsxs)(E.a,{variant:"overline",children:["Battlepass"!==n.content_tier.dev_name?n.content_tier.dev_name:"Unlockable"," ",a.display_name," ",n.favorite?"// ".concat(Math.round(n.weight/a.total_weights*100),"% CHANCE (").concat(n.weight,"/").concat(a.total_weights,")"):null]})]})]}),Object(J.jsxs)("div",{style:{flexGrow:1,display:"flex",justifyContent:"flex-end"},children:[Object(J.jsx)(A.a,{in:o,mountOnEnter:!0,unmountOnExit:!0,children:Object(J.jsx)(q.a,{title:"Set randomizer weight",className:t.headerButton,children:Object(J.jsx)(L.a,{onClick:function(){d(!0)},style:{height:"40px",width:"40px"},children:Object(J.jsx)(ue.a,{})})})}),Object(J.jsx)(q.a,{title:s?"Unlock weapon from randomization":"Lock weapon from randomization",className:t.headerButton,children:Object(J.jsx)(L.a,{onClick:l,style:{height:"40px",width:"40px"},children:s?Object(J.jsx)(be.a,{}):Object(J.jsx)(je.a,{})})}),Object(J.jsx)(q.a,{title:o?"Remove skin from favorites":"Add skin to favorites",className:t.headerButton,children:Object(J.jsx)(L.a,{onClick:r,style:{height:"40px",width:"40px"},children:o?Object(J.jsx)(pe.a,{}):Object(J.jsx)(fe.a,{})})}),Object(J.jsx)(q.a,{title:"Save",className:t.headerButton,children:Object(J.jsx)(L.a,{onClick:c,style:{height:"40px",width:"40px"},children:i?Object(J.jsx)(T.a,{className:t.loading}):Object(J.jsx)(U.a,{})})})]})]})},me=n(170),Oe=n(171),ge=n(172),ve=n(173),ye=n(174),we=n(175),ke=n(176),Se=n(177),Ce=n(178),Ne=Object(C.a)((function(e){return{equippedActions:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:"10px",marginLeft:"10px",padding:"2px",transition:"all .2s ease !important"},previewAction:{height:"35px",width:"35px",alignSelf:"center",margin:e.spacing(.25),transition:"all .2s ease !important"},previewActionIcon:{width:"20px",height:"20px"}}}));var _e=function(e){var t=Ne(),n=(Object(N.a)(),e.hasAlternateMedia),a=e.showingVideo,i=e.changeVideoStateCallback,c=e.showingControls,o=e.changeControlsStateCallback,r=e.isFavoriteLevel,s=e.isFavoriteChroma,l=e.toggleFavoriteLevelCallback,d=e.toggleFavoriteChromaCallback,u=e.canFavoriteLevel,b=e.canFavoriteChroma,j=n||u||b;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(A.a,{in:j,mountOnEnter:!0,unmountOnExit:!0,children:Object(J.jsxs)(D.a,{variant:"outlined",outlinecolor:"secondary",className:t.equippedActions,children:[Object(J.jsx)(me.a,{in:u,mountOnEnter:!0,unmountOnExit:!0,children:Object(J.jsx)(q.a,{title:r?"Remove level from favorites":"Add level to favorites",children:Object(J.jsx)(L.a,{onClick:function(){l()},"aria-label":"favorite level",className:t.previewAction,children:r?Object(J.jsx)(Oe.a,{className:t.previewActionIcon}):Object(J.jsx)(ge.a,{className:t.previewActionIcon})})})}),Object(J.jsx)(me.a,{in:b,mountOnEnter:!0,unmountOnExit:!0,children:Object(J.jsx)(q.a,{title:s?"Remove chroma from favorites":"Add chroma to favorites",children:Object(J.jsx)(L.a,{onClick:function(){d()},"aria-label":"favorite chroma",className:t.previewAction,children:s?Object(J.jsx)(ve.a,{className:t.previewActionIcon}):Object(J.jsx)(ye.a,{className:t.previewActionIcon})})})}),Object(J.jsx)(me.a,{in:n,mountOnEnter:!0,unmountOnExit:!0,children:Object(J.jsx)(q.a,{title:a?"Stop video preview":"Play video preview",children:Object(J.jsx)(L.a,{onClick:function(){i(!a)},"aria-label":"preview",className:t.previewAction,children:a?Object(J.jsx)(we.a,{className:t.previewActionIcon}):Object(J.jsx)(ke.a,{className:t.previewActionIcon})})})}),Object(J.jsx)(me.a,{in:a,mountOnEnter:!0,unmountOnExit:!0,children:Object(J.jsx)(q.a,{title:c?"Hide video controls":"Show video controls",children:Object(J.jsx)(L.a,{onClick:function(){o(!c)},"aria-label":"preview",className:t.previewAction,children:c?Object(J.jsx)(Se.a,{className:t.previewActionIcon}):Object(J.jsx)(Ce.a,{className:t.previewActionIcon})})})})]})})})},De=n(179),Ie=n(180),Ee=n(181),Ae=n(182),qe=n(203),Le=n(183),Be=n(184),Te=Object(C.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},content:{margin:"0px 10px 0px 10px"}}}));var Ge=function(e){var t=Te(),n=(Object(N.a)(),Object(a.useState)(0)),i=Object(d.a)(n,2),c=i[0],o=i[1],r=e.totalWeights-e.weight,s=Object(a.useState)(r),l=Object(d.a)(s,2),u=l[0],b=l[1];function j(){e.close(!1),o(e.weight)}return Object(a.useEffect)((function(){e.open&&(o(e.weight),b(r+c))}),[e.open]),Object(a.useEffect)((function(){b(r+c)}),[c]),Object(a.useEffect)((function(){o(e.weight)}),[e.weight]),Object(J.jsxs)(De.a,{open:e.open,fullWidth:!0,maxWidth:"xs",onClose:j,children:[Object(J.jsx)(Ie.a,{children:"Randomizer Weight"}),Object(J.jsxs)(Ee.a,{className:t.content,children:[Object(J.jsxs)(Ae.a,{style:{marginBottom:"20px"},children:["Weights are relative, so there is a ",Object(J.jsxs)("strong",{children:[Math.round(c/u*100),"%"]})," chance this skin will be selected."]}),Object(J.jsx)(qe.a,{valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:v,value:c,onChange:function(e,t){return o(t)}})]}),Object(J.jsxs)(Le.a,{children:[Object(J.jsx)(Be.a,{color:"primary",onClick:j,children:"Cancel"}),Object(J.jsx)(Be.a,{color:"primary",onClick:function(){e.saveCallback(c,u)},children:"Save"})]})]})},We=Object(C.a)((function(e){return{backdrop:{display:"flex",alignItems:"center",justifyContent:"center"},mainPaper:{margin:"auto",width:"50%",height:"90vh",minWidth:"400px",maxWidth:"800px",display:"flex",justifySelf:"flex-start",justifyContent:"center",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"darkgrey",outline:"1px solid slategrey",backgroundClip:"padding-box"}},paperOnTopContent:{width:"93%",background:"#424242",paddingBottom:"10px",display:"flex",flexDirection:"column",position:"sticky",top:0,zIndex:4},mainSkinMedia:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"center",marginTop:"10px",transition:"all .2s ease"},paperCustomizingContent:{width:"93%",height:"auto",marginTop:"5px",display:"flex",flexDirection:"column",overflowY:"auto",alignItems:"stretch",top:0},levelSelectors:{display:"flex",flexDirection:"row",width:"100%",flexGrow:1,marginBottom:"15px",transition:"all .2s ease"},skinSelector:{marginBottom:"15px",marginTop:"15px",padding:"2px 2px",display:"flex",justifyContent:"center"}}}));var ze=function(e){var t=We(),n=(Object(N.a)(),e.inventoryData[e.weaponUuid]),i=n.skins,c=e.initialSkinData,o=Object(a.useState)(i[c.skin_uuid]),r=Object(d.a)(o,2),s=r[0],l=r[1],u=Object(a.useState)(i[c.skin_uuid].levels[e.loadoutWeaponData.level_uuid]),b=Object(d.a)(u,2),j=b[0],p=b[1],f=Object(a.useState)(i[c.skin_uuid].chromas[e.loadoutWeaponData.chroma_uuid]),x=Object(d.a)(f,2),h=x[0],m=x[1],O=Object(a.useState)(i[c.skin_uuid].favorite),g=Object(d.a)(O,2),v=g[0],y=g[1],w=Object(a.useState)(),k=Object(d.a)(w,2),S=k[0],C=k[1],_=Object(a.useState)(),I=Object(d.a)(_,2),E=I[0],q=I[1],L=Object(a.useState)(!0),B=Object(d.a)(L,2),T=B[0],G=B[1],W=Object(a.useState)(!0),F=Object(d.a)(W,2),R=F[0],V=F[1],M=Object(a.useState)(!1),P=Object(d.a)(M,2),U=P[0],Y=P[1],X=Object(a.useState)(!1),K=Object(d.a)(X,2),Q=K[0],Z=K[1],$=Object(a.useState)(n.locked),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ie=Object(a.useState)(!0),ce=Object(d.a)(ie,2),re=ce[0],le=ce[1],ue=Object(a.useState)(!1),be=Object(d.a)(ue,2),je=be[0],pe=be[1],fe=Object(a.useState)(!1),xe=Object(d.a)(fe,2),me=xe[0],Oe=xe[1],ge=Object(a.useState)(!1),ve=Object(d.a)(ge,2),ye=(ve[0],ve[1],Object(a.useState)(!1)),we=Object(d.a)(ye,2),ke=we[0],Se=we[1],Ce=Object(a.useState)(!1),Ne=Object(d.a)(Ce,2),De=Ne[0],Ie=Ne[1],Ee=Object(a.useState)(!1),Ae=Object(d.a)(Ee,2),qe=Ae[0],Le=Ae[1],Be=Object(a.useState)(!1),Te=Object(d.a)(Be,2),ze=Te[0],Fe=Te[1];function Re(e){for(var t=i[e],n=0,a=0;a<Object.keys(t.levels).length;a++)!0===t.levels[Object.keys(t.levels)[a]].unlocked&&(n=t.levels[Object.keys(t.levels)[a]].index);for(var c=0;c<Object.keys(t.chromas).length;c++)!0===t.chromas[Object.keys(t.chromas)[c]].unlocked&&t.chromas[Object.keys(t.chromas)[c]].index;1===Object.keys(t.levels).length&&1===Object.keys(t.chromas).length?Oe(!1):Oe(!0),l(t),p(t.levels[Object.keys(t.levels)[n-1]]),m(t.chromas[Object.keys(t.chromas)[0]]),Se(!1),Le(!1)}return Object(a.useEffect)((function(){re&&(document.title="VSM // ".concat(n.display_name))}),[re]),Object(a.useEffect)((function(){Ie(null!==h.video_preview||null!==j.video_preview),y(s.favorite),function(){for(var e=s.levels,t=[],n=0,a=Object.keys(e);n<a.length;n++){var i=e[a[n]];i.favorite&&t.push(i.uuid)}C(t),t.includes(j.uuid)?Y(!0):Y(!1),1===Object.keys(e).length?G(!1):G(!0)}(),function(){for(var e=s.chromas,t=[],n=0,a=Object.keys(e);n<a.length;n++){var i=e[a[n]];i.favorite&&t.push(i.uuid)}q(t),t.includes(h.uuid)?Z(!0):Z(!1),1===Object.keys(e).length?V(!1):V(!0)}()}),[s,j,h]),Object(a.useEffect)((function(){Re(c.skin_uuid),p(i[c.skin_uuid].levels[e.loadoutWeaponData.level_uuid]),m(i[c.skin_uuid].chromas[e.loadoutWeaponData.chroma_uuid])}),[]),null==n&&null==c?null:Object(J.jsxs)(z.a,{open:re,className:t.backdrop,style:{zIndex:4},children:[Object(J.jsx)(Ge,{open:ze,close:Fe,saveCallback:function(e,t){Fe(!1),s.weight=e,n.total_weights=t,console.log(e)},weight:s.weight,totalWeights:n.total_weights}),Object(J.jsxs)(D.a,{className:t.mainPaper,variant:"outlined",children:[Object(J.jsxs)("div",{className:t.paperOnTopContent,children:[Object(J.jsx)(he,{equippedSkinData:s,inventoryWeaponData:n,saving:je,saveCallback:function(){pe(!0);var t={weaponUuid:e.weaponUuid,skinUuid:s.uuid,levelUuid:j.uuid,chromaUuid:h.uuid,inventoryData:n,skinsData:i},a=c.skin_uuid,o=c.chroma_uuid,r=c.level_uuid,l=j.uuid===r&&h.uuid===o&&s.uuid===a,d=JSON.stringify(t);e.saveCallback(d,l).then((function(){le(!1),setTimeout((function(){e.closeEditor()}),100)}))},isFavorite:v,favoriteCallback:function(){i[s.uuid].favorite=!v,v?n.total_weights-=s.weight:n.total_weights+=s.weight,y(!v)},isLocked:te,lockCallback:function(){ae(!n.locked),n.locked=!n.locked},weightCallback:Fe}),Object(J.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row"},children:[Object(J.jsx)(D.a,{variant:"outlined",outlinecolor:"secondary",className:t.mainSkinMedia,style:{height:ke?"35vh":"125px",maxHeight:"350px",maxWidth:"100%",overflowX:"hidden"},children:function(){var e=!1,t=!1;return null!==h.video_preview&&(e=!0),1!==h.index||null===j.display_icon||s.display_name.includes("Standard")||(t=!0),ke?ke&&null!==j.video_preview?Object(J.jsx)(A.a,{in:!0,children:Object(J.jsx)("video",{src:e?h.video_preview:j.video_preview,type:"video/mp4",controls:qe,autoPlay:!0,onEnded:function(){Se(!1)},style:{width:"auto",height:"100%",overflow:"hidden",objectFit:"contain",flexGrow:1,alignSelf:"center"}})}):void Se(!1):Object(J.jsx)(A.a,{in:!0,children:Object(J.jsx)("img",{alt:h.display_name,src:t?j.display_icon:h.display_icon,style:{maxWidth:"90%",maxHeight:"85%",objectFit:"contain",alignSelf:"center",overflow:"hidden"}})})}()}),Object(J.jsx)(_e,{hasAlternateMedia:De,showingVideo:ke,changeVideoStateCallback:Se,showingControls:qe,changeControlsStateCallback:Le,toggleFavoriteLevelCallback:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=null===t?j.uuid:t;var a,c=S;(a=null===n?!c.includes(j.uuid):n)&&!c.includes(e)?c.push(e):!a&&c.includes(e)&&c.splice(c.indexOf(e),1),Y(a),C(c),i[s.uuid].levels[j.uuid].favorite=a},isFavoriteLevel:U,toggleFavoriteChromaCallback:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?(e=h.uuid,console.log(e)):e=t;var a,c=E;(a=null===n?!c.includes(h.uuid):n)&&!c.includes(e)?c.push(e):!a&&c.includes(e)&&c.splice(c.indexOf(e),1),Z(a),q(c),i[s.uuid].chromas[e].favorite=a},isFavoriteChroma:Q,canFavoriteLevel:T,canFavoriteChroma:R})]})]}),Object(J.jsxs)("div",{className:t.paperCustomizingContent,children:[Object(J.jsxs)("div",{className:t.levelSelectors,style:{height:me?"45px":"0px"},children:[Object(J.jsx)(oe,{levelData:s.levels,equippedLevelIndex:j.index,equippedChromaIndex:h.index,setter:p}),Object(J.jsx)(se,{levelData:s.levels,chromaData:s.chromas,equippedLevelIndex:j.index,equippedChromaIndex:h.index,setter:m})]}),me?Object(J.jsx)(H.a,{variant:"middle"}):null,Object(J.jsx)("div",{className:t.skinSelector,children:Object(J.jsx)(ne.a,{style:{width:"100%",height:"100%",justifySelf:"center"},container:!0,justifyContent:"flex-start",direction:"row",alignItems:"center",spacing:1,children:Object.keys(i).map((function(e){var t=i[e];return Object(J.jsx)(ne.a,{item:!0,xs:4,children:Object(J.jsx)(de,{skinData:t,weaponData:n,equip:Re,equipped:s})},t.display_name)}))})})]})]})]})},Fe=n(91),Re=n(186),Ve={"29a0cfab-485b-f5d5-779a-b59f85e204a8":["100px","20px"],"42da8ccc-40d5-affc-beec-15aa47b42eda":["130px","30px"],"44d4e95c-4157-0037-81b2-17841bf2e8e3":["100px","10px"],"1baa85b4-4c70-1284-64bb-6481dfc3bb4e":["140px","35px"],"e336c6b8-418d-9340-d77f-7a9e4cfe0702":["140px","20px"],"f7e1b454-4ad4-1063-ec0a-159e56b58941":["195px","20px"],"462080d1-4035-2937-7c09-27aa2a5c27a7":["200px","20px"],"910be174-449b-c412-ab22-d0873436b21b":["240px","40px"],"ec845bf4-4f79-ddda-a3da-0db3774b2794":["240px","30px"],"ae3de142-4d85-2547-dd26-4e90bed35cf7":["240px","20px"],"4ade7faa-4cf1-8376-95ef-39884480959b":["240px","60px"],"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a":["250px","30px"],"9c82e19d-4575-0200-1a81-3eacf00cf872":["240px","30px"],"c4883e50-4494-202c-3ec3-6b8a9284f00b":["250px","70px"],"a03b24d3-4319-996d-0f8c-94bbfba1dfc7":["240px","100px"],"55d8a0f4-4274-ca67-fe2c-06ab45efdf58":["260px","80px"],"63e6c2b6-4a8e-869c-3d4c-e38355226584":["270px","40px"],"2f59173c-4bed-b6c3-2191-dea9b58be9c7":["auto","20px"]},Me=Object(C.a)((function(e){return{"@global":{"@keyframes fadeOut":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},weaponContainerVideo:{position:"absolute",objectFit:"cover",width:"auto",height:"auto"},weaponPaper:{flexDirection:"row",position:"relative",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",background:"transparent",transition:".5s ease !important","&:hover":{border:"1px ".concat(e.palette.primary.main," solid")}},weaponImage:{zIndex:1,width:"100%",height:"100%",position:"relative",backgroundPosition:"center",backgroundRepeat:"no-repeat",background:"transparent",backfaceVisibility:"hidden"},bottomGradient:{zIndex:5,width:"100%",height:"100%",top:"-100%"},dataContainer:{width:"100%",height:"100%",display:"flex",position:"relative",top:"-100%"},textContainer:{display:"flex",flexDirection:"column",width:"100%",height:"100%",alignSelf:"flex-start",alignItems:"center",position:"relative",justifyContent:"center",backgroundPosition:"center",overflow:"visible",zIndex:2},buddyContainer:{display:"flex",maxWidth:"50px",height:"100%",position:"relative",right:0,bottom:7,zIndex:2},buddyImage:{width:"100%",height:"auto",objectFit:"contain",position:"relative",alignSelf:"flex-end"},weaponLabelHolder:{display:"flex",width:"80%",height:"50%",position:"relative",alignSelf:"flex-start",left:12,bottom:-22},weaponLabel:{textAlign:"left",width:"100%",flexGrow:1,height:"auto",alignSelf:"flex-end",position:"relative",textOverflow:"ellipsis"}}}));var Pe=function(e){var t=Me(),n=(Object(N.a)(),Object(a.useState)(!0)),i=Object(d.a)(n,2),c=i[0],o=i[1],r=Object(a.useState)(!1),s=Object(d.a)(r,2),l=(s[0],s[1]),u=Object(a.useState)({}),b=Object(d.a)(u,2),j=b[0],p=b[1],f=Object(a.useState)(!1),x=Object(d.a)(f,2),h=x[0],m=x[1],O=Object(a.useState)(""),g=Object(d.a)(O,2),v=g[0],y=g[1],w=void 0!==e.data?e.data.favorite:"",k=void 0!==e.data?e.data.locked:"";return Object(a.useEffect)((function(){if(void 0!==e.data){var t=null!==j?j.skin_image:"";e.data.skin_image!==t&&(o(!0),setTimeout((function(){y(e.data.skin_image),p(e.data),o(!1)}),300)),e.data.buddy_name!==j.buddy_name&&(l(!0),setTimeout((function(){p(e.data),l(!1)}),300))}}),[e.data]),Object(J.jsx)(Fe.a,{in:!0,style:{transitionDelay:"500ms"},children:Object(J.jsxs)(D.a,{className:t.weaponPaper,variant:"outlined",onMouseEnter:function(){m(!0)},onMouseLeave:function(){m(!1)},onMouseDown:function(){e.weaponEditorCallback(e.uuid)},children:[Object(J.jsx)(Fe.a,{in:!c,children:Object(J.jsx)("div",{className:t.weaponImage,style:{backgroundPosition:e.useLargeWeaponImage?"50% 50%":"50% 40%",backgroundImage:j!=={}?"url(".concat(v,")"):'url("https://media.valorant-api.com/weapons/'.concat(e.uuid,'/displayicon.png")'),backgroundSize:"2f59173c-4bed-b6c3-2191-dea9b58be9c7"!==e.uuid?e.useLargeWeaponImage?"calc(".concat(Ve[e.uuid][0]," + ").concat(Ve[e.uuid][1],") auto"):"".concat(e.uuid in Ve?Ve[e.uuid][0]:"250px"," auto"):"auto 80%"}})}),Object(J.jsxs)("div",{className:t.dataContainer,children:[Object(J.jsxs)("div",{className:t.textContainer,children:[Object(J.jsx)("div",{className:t.weaponLabelHolder,children:Object(J.jsxs)(E.a,{className:t.weaponLabel,variant:"overline",children:[k?"\ud83d\udd12 ":null,e.displayName]})}),Object(J.jsx)("div",{style:{width:"80%",alignSelf:"flex-start",position:"relative",left:12},children:Object(J.jsx)(Re.a,{in:h,children:Object(J.jsxs)(E.a,{className:t.weaponLabel,variant:"body2",style:{marginTop:"14px",marginBottom:"5px"},children:[w?"\u2764 ":null,j.skin_name]})})})]}),Object(J.jsx)(A.a,{in:!0,children:Object(J.jsx)("div",{className:t.buddyContainer,style:{width:e.isSidearm?"20%":"14%"},children:"2f59173c-4bed-b6c3-2191-dea9b58be9c7"!==e.uuid?Object(J.jsx)("img",{alt:j.buddy_name,className:t.buddyImage,src:""!==j.buddy_image?j.buddy_image:null}):Object(J.jsx)("img",{alt:"",src:""})})})]})]})})};function He(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var Ue=Object(C.a)((function(e){return{root:{display:"flex",margin:"auto",width:"100%",alignSelf:"center"},collectionMainGridItem:{display:"flex",alignItems:"center"},collectionItem:{height:"115px"}}})),Je=[[{type:"weapon",sidearm:!0,uuid:"29a0cfab-485b-f5d5-779a-b59f85e204a8",displayName:"Classic"},{type:"weapon",sidearm:!1,uuid:"f7e1b454-4ad4-1063-ec0a-159e56b58941",displayName:"Stinger"},{type:"weapon",sidearm:!1,uuid:"ae3de142-4d85-2547-dd26-4e90bed35cf7",displayName:"Bulldog"},{type:"weapon",sidearm:!1,uuid:"c4883e50-4494-202c-3ec3-6b8a9284f00b",displayName:"Marshal"}],[{type:"weapon",sidearm:!0,uuid:"42da8ccc-40d5-affc-beec-15aa47b42eda",displayName:"Shorty"},{type:"weapon",sidearm:!1,uuid:"462080d1-4035-2937-7c09-27aa2a5c27a7",displayName:"Spectre"},{type:"weapon",sidearm:!1,uuid:"4ade7faa-4cf1-8376-95ef-39884480959b",displayName:"Guardian"},{type:"weapon",sidearm:!1,uuid:"a03b24d3-4319-996d-0f8c-94bbfba1dfc7",displayName:"Operator"}],[{type:"weapon",sidearm:!0,uuid:"44d4e95c-4157-0037-81b2-17841bf2e8e3",displayName:"Frenzy"},{type:"weapon",sidearm:!1,uuid:"910be174-449b-c412-ab22-d0873436b21b",displayName:"Bucky"},{type:"weapon",sidearm:!1,uuid:"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a",displayName:"Phantom"},{type:"weapon",sidearm:!1,uuid:"55d8a0f4-4274-ca67-fe2c-06ab45efdf58",displayName:"Ares"}],[{type:"weapon",sidearm:!0,uuid:"1baa85b4-4c70-1284-64bb-6481dfc3bb4e",displayName:"Ghost"},{type:"weapon",sidearm:!1,uuid:"ec845bf4-4f79-ddda-a3da-0db3774b2794",displayName:"Judge"},{type:"weapon",sidearm:!1,uuid:"9c82e19d-4575-0200-1a81-3eacf00cf872",displayName:"Vandal"},{type:"weapon",sidearm:!1,uuid:"63e6c2b6-4a8e-869c-3d4c-e38355226584",displayName:"Odin"}],[{type:"weapon",sidearm:!0,uuid:"e336c6b8-418d-9340-d77f-7a9e4cfe0702",displayName:"Sheriff"},{type:"placeholder"},{type:"weapon",sidearm:!1,uuid:"2f59173c-4bed-b6c3-2191-dea9b58be9c7",displayName:"Melee"}]];var Ye=function(e){var t=Ue(),n=function(){var e=Object(a.useState)(He()),t=Object(d.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){function e(){i(He())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),i=(n.height,n.width),c=Object(a.useState)(!1),o=Object(d.a)(c,2),r=o[0],s=o[1],l=Object(a.useState)(!1),u=Object(d.a)(l,2),b=u[0],j=u[1];return Object(a.useEffect)((function(){s(i<960),j(i<960||i>1300)}),[i]),Object(J.jsx)(ne.a,{className:t.root,container:!0,justifyContent:"center",direction:"row",alignItems:"center",spacing:2,children:Je.map((function(n){if(null!==e.loadout)return n.map((function(n){return"weapon"===n.type?Object(J.jsx)(ne.a,{className:t.collectionItem,item:!0,md:!0===n.sidearm?2:3,sm:12,xs:12,children:Object(J.jsx)(Pe,{data:e.loadout[n.uuid],uuid:n.uuid,displayName:n.displayName,useLargeWeaponImage:b,weaponEditorCallback:e.weaponEditorCallback,isSidearm:n.sidearm})},n.uuid):r?Object(J.jsx)("br",{}):Object(J.jsx)(ne.a,{className:t.collectionItem,item:!0,md:6,sm:!1,xs:!1},"placeholder")}))}))})},Xe=n(187),Ke=Object(C.a)((function(e){return{root:{height:"100vh",margin:"auto",display:"flex",flexDirection:"column",justifyContent:"space-between",flexGrow:1}}}));var Qe=function(e){var t=Ke(),n=Object(a.useState)(!1),i=Object(d.a)(n,2),c=i[0],o=i[1],r=Object(a.useState)(""),u=Object(d.a)(r,2),b=(u[0],u[1],Object(a.useState)({})),j=Object(d.a)(b,2),p=j[0],f=j[1],x=Object(a.useState)(!1),h=Object(d.a)(x,2),m=h[0],O=h[1],g=Object(a.useState)({}),v=Object(d.a)(g,2),y=v[0],w=v[1],k=Object(a.useState)(),C=Object(d.a)(k,2),N=C[0],_=C[1];function D(){return(D=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){f(e.skins)},S.request({request:"fetch_inventory"},t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){w(e)},S.request({request:"fetch_loadout"},t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){S.request({request:"update_inventory",args:{payload:t}},(function(t){f(t),e()})),n||S.request({request:"put_weapon",args:{payload:t}},(function(e){console.log("put"),w(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){O(!1),_(null)}return Object(a.useEffect)((function(){c||(function(){D.apply(this,arguments)}(),function(){I.apply(this,arguments)}(),o(!0)),S.subscribe("loadout_updated",(function(e){console.log(e),w(e.loadout)}))}),[]),Object(a.useEffect)((function(){m||(document.title="VSM // Collection")}),[m]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{className:t.root,children:[Object(J.jsx)($,{}),Object(J.jsxs)(Xe.a,{maxWidth:!1,children:[N,Object(J.jsx)(Ye,{weaponEditorCallback:function(e){O(!0),_(Object(J.jsx)(ze,{weaponUuid:e,initialSkinData:y[e],inventoryData:p,loadoutWeaponData:y[e],saveCallback:E,closeEditor:q}))},loadout:y,setLoadout:w})]}),Object(J.jsx)(te,{})]})})},Ze=Object(C.a)((function(e){return{footer:{height:"25vh"},root:{height:"80vh",margin:"auto",display:"flex",padding:0,flexGrow:1}}}));var $e=function(e){return Ze(),Object(N.a)(),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)($,{}),Object(J.jsx)(te,{})]})},et=n(204),tt=n(188),nt=n(199),at=Object(C.a)((function(e){return{stepper:{}}})),it=["Hello!","VALORANT Account","Settings"];var ct=function(e){var t=at(),n=(Object(N.a)(),e.activeStep);return Object(J.jsx)(et.a,{activeStep:n,className:t.stepper,children:it.map((function(e,t){return Object(J.jsx)(tt.a,{children:Object(J.jsx)(nt.a,{children:e})},e)}))})},ot=n(154),rt=n(120),st=n(189),lt=Object(C.a)((function(e){return{headerText:{justifySelf:"center",textAlign:"center",background:"linear-gradient(90deg, rgba(255,190,190,1) 0%, rgba(250,117,129,1) 50%, rgba(255,190,190,1) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},bodyText:{marginTop:"3px",justifySelf:"center",textAlign:"center"},list:{width:"400px",justifySelf:"center",alignSelf:"center",display:"flex",flexDirection:"column",paddingTop:"0px"},listItem:{justifySelf:"center",textAlign:"center",padding:"2px"},buttonDiv:{display:"flex",height:"100%",width:"100%",flexDirection:"column",flexGrow:1,marginTop:"5px",justifyContent:"flex-end"},startButton:{width:"100%",height:"37px",alignSelf:"center",marginBottom:"15px"}}}));var dt=function(e){var t=lt(),n=(Object(N.a)(),e.pageStyle);return Object(J.jsxs)("div",{style:n,children:[Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-end",height:"100%"},children:[Object(J.jsx)(E.a,{variant:"h2",className:t.headerText,children:Object(J.jsx)("strong",{children:"VSM"})}),Object(J.jsx)(E.a,{variant:"subtitle2",style:{alignSelf:"flex-end"},children:"v1.0.0"})]}),Object(J.jsx)(E.a,{variant:"body1",className:t.bodyText,children:"VALORANT inventory management, expanded"}),Object(J.jsx)(H.a,{variant:"middle",style:{margin:"10px"}}),Object(J.jsx)(ot.a,{className:t.list,dense:!0,children:["improved skin selection","favorites system","skin randomizer","automatic randomization"].map((function(e){return Object(J.jsx)(rt.a,{className:t.listItem,children:Object(J.jsx)(st.a,{primary:e})},e)}))}),Object(J.jsx)("div",{className:t.buttonDiv,children:Object(J.jsx)(Be.a,{variant:"outlined",color:"primary",onClick:e.nextCallback,className:t.startButton,children:"Get Started"})})]})},ut=n(190),bt=n(205),jt=n(191),pt=n(192),ft=n(193),xt=Object(C.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},start:{display:"flex",flexDirection:"column",flexGrow:1},gameNotRunning:{display:"flex",flexDirection:"column",flexGrow:1},autodetectClient:{display:"flex",flexDirection:"column",flexGrow:1},accountDataList:{flexGrow:0,marginBottom:"5px"},loading:{animation:"spin 4s linear infinite"},buttons:{display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"flex-end"},nextButton:{width:"100%",height:"37px",marginBottom:"15px"}}}));var ht=function(e){var t=xt(),n=(Object(N.a)(),e.pageStyle),i=Object(a.useState)(!1),c=Object(d.a)(i,2),o=c[0],r=c[1],s=Object(a.useState)(!0),l=Object(d.a)(s,2),u=l[0],b=l[1],j=Object(a.useState)(!1),p=Object(d.a)(j,2),f=p[0],x=p[1],h=Object(a.useState)(!1),m=Object(d.a)(h,2),O=m[0],g=m[1],v=Object(a.useState)({}),y=Object(d.a)(v,2),w=y[0],k=y[1];return Object(a.useEffect)((function(){f||S.request({"socket.request":"get_running_state"}).then((function(e){!0===e.success&&(r(e.response),x(!0))}))}),[]),Object(a.useEffect)((function(){o&&!O&&S.request({"socket.request":"autodetect_account"}).then((function(e){!0===e.success&&(g(!0),k(e.response))}))}),[o]),Object(J.jsx)("div",{style:n,children:Object(J.jsxs)("div",{className:t.start,children:[Object(J.jsx)(E.a,{variant:"h4",children:"Let's get started"}),Object(J.jsx)(Fe.a,{in:!o&&f,unmountOnExit:!0,mountOnEnter:!0,children:Object(J.jsxs)("div",{className:t.gameNotRunning,children:[Object(J.jsx)(E.a,{style:{marginTop:"12px",marginBottom:"10px"},variant:"body2",children:"It looks like VALORANT isn't open. VALORANT needs to be open to set up VSM."}),Object(J.jsx)(Be.a,{variant:"outlined",color:"primary",disabled:!u,className:t.startButton,onClick:function(){b(!1),S.request({"socket.request":"start_game"}).then((function(e){!0===e.response&&r(!0)}))},children:u?"Launch VALORANT":Object(J.jsx)(T.a,{className:t.loading})})]})}),Object(J.jsx)(Fe.a,{in:o,style:{transitionDelay:"200ms"},unmountOnExit:!0,mountOnEnter:!0,children:Object(J.jsxs)("div",{className:t.autodetectClient,children:[Object(J.jsx)(E.a,{style:{marginTop:"12px",marginBottom:"5px"},variant:"body2",children:O?"Discovered the following account data:":"Attempting to autodetect your VALORANT account."}),Object(J.jsx)(Fe.a,{in:O,mountOnEnter:!0,unmountOnExit:!0,children:Object(J.jsxs)(ot.a,{className:t.accountDataList,children:[Object(J.jsxs)(rt.a,{children:[Object(J.jsx)(ut.a,{children:Object(J.jsx)(bt.a,{children:Object(J.jsx)(jt.a,{})})}),Object(J.jsx)(st.a,{primary:"".concat(w.game_name,"#").concat(w.game_tag)})]}),Object(J.jsxs)(rt.a,{children:[Object(J.jsx)(ut.a,{children:Object(J.jsx)(bt.a,{children:Object(J.jsx)(pt.a,{})})}),Object(J.jsx)(st.a,{primary:"Region: ".concat(w.region)})]}),Object(J.jsxs)(rt.a,{children:[Object(J.jsx)(ut.a,{children:Object(J.jsx)(bt.a,{children:Object(J.jsx)(ft.a,{})})}),Object(J.jsx)(st.a,{primary:"Shard: ".concat(w.shard)})]})]})}),Object(J.jsx)(Fe.a,{in:O,style:{transitionDelay:"500ms"},mountOnEnter:!0,unmountOnExit:!0,children:Object(J.jsx)("div",{className:t.buttons,children:Object(J.jsx)(Be.a,{variant:"outlined",color:"primary",onClick:e.nextCallback,className:t.nextButton,children:"Next"})})})]})})]})})},mt=Object(C.a)((function(e){return{root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},paper:{width:"500px",height:"400px",display:"flex",flexDirection:"column"},pageContent:{display:"flex",flexGrow:1,alignItems:"center",flexDirection:"column"}}})),Ot={width:"90%",height:"100%",display:"flex",flexDirection:"column",flexGrow:1};var gt=function(e){var t=mt(),n=(Object(N.a)(),[Object(J.jsx)(dt,{pageStyle:Ot,nextCallback:s}),Object(J.jsx)(ht,{pageStyle:Ot,nextCallback:s})]),i=Object(a.useState)(0),c=Object(d.a)(i,2),o=c[0],r=c[1];function s(){r(o+1)}return Object(J.jsx)(Xe.a,{maxWidth:"xl",className:t.root,children:Object(J.jsx)(A.a,{in:!0,children:Object(J.jsxs)(D.a,{variant:"outlined",className:t.paper,children:[Object(J.jsx)(ct,{activeStep:o}),Object(J.jsx)("div",{className:t.pageContent,children:n[o]})]})})})},vt=Object(C.a)((function(e){return{root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.background.default,zIndex:100},main:{width:"300px",height:"200px",display:"flex",flexDirection:"column",alignItems:"center"},content:{display:"flex",flexDirection:"column",flexGrow:1,alignItems:"center"},retryButton:{alignSelf:"center",height:"45px",width:"80%"},buttons:{display:"flex",width:"100%",flexDirection:"column",flexGrow:1,justifyContent:"center"}}}));var yt=function(e){var t=vt();return Object(N.a)(),Object(J.jsx)(z.a,{open:!0,className:t.root,children:Object(J.jsx)(A.a,{in:!0,children:Object(J.jsx)("div",{className:t.main,children:Object(J.jsxs)("div",{className:t.content,children:[Object(J.jsx)(E.a,{variant:"h4",children:"Connection failed"}),Object(J.jsx)(E.a,{variant:"body1",style:{textAlign:"center",marginTop:"10px"},children:"Couldn't connect to your computer. Is the VSM client companion running?"}),Object(J.jsx)("div",{className:t.buttons,children:Object(J.jsx)(Be.a,{variant:"outlined",color:"primary",onClick:e.retry,className:t.retryButton,children:"Retry"})})]})})})})},wt=Object(C.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.background.default,zIndex:100},main:{width:"400px",height:"200px",display:"flex",flexDirection:"column",alignItems:"center"},content:{display:"flex",flexDirection:"column",flexGrow:1,alignItems:"center"},retryButton:{alignSelf:"center",height:"45px",width:"80%"},buttons:{display:"flex",width:"100%",flexDirection:"column",flexGrow:1,justifyContent:"center"},loading:{animation:"spin 4s linear infinite"}}}));var kt=function(e){var t=wt(),n=(Object(N.a)(),Object(a.useState)(!0)),i=Object(d.a)(n,2),c=i[0],o=i[1],r=Object(a.useState)(!0),s=Object(d.a)(r,2),l=s[0],u=s[1];return Object(J.jsx)(z.a,{open:!0,className:t.root,children:Object(J.jsx)(A.a,{in:l,children:Object(J.jsx)("div",{className:t.main,children:Object(J.jsxs)("div",{className:t.content,children:[Object(J.jsx)(E.a,{variant:"h4",children:"VALORANT not open"}),Object(J.jsx)(E.a,{variant:"body1",style:{textAlign:"center",marginTop:"10px"},children:"Couldn't detect VALORANT running on your computer."}),Object(J.jsx)("div",{className:t.buttons,children:Object(J.jsx)(Be.a,{variant:"outlined",color:"primary",onClick:function(){o(!1),S.request({request:"start_game"},(function(t){console.log("launched!"),!0===t&&(u(!1),e.callback())}))},disabled:!c,className:t.retryButton,children:c?"Launch VALORANT":Object(J.jsx)(T.a,{className:t.loading})})})]})})})})},St=n(197),Ct=n(194),Nt=Object(C.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var _t=function(e){var t=Nt();return Object(J.jsx)(z.a,{className:t.backdrop,open:e.open,children:Object(J.jsx)(St.a,{children:Object(J.jsx)(Ct.a,{color:"#ffffff"})})})},Dt=Object(u.a)({palette:{type:"dark",primary:{main:"#fa7581"},secondary:{main:"#454545"}},typography:{fontFamily:["Chivo","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},overrides:{MuiCssBaseline:{"@global":{body:{"&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"darkgrey",outline:"1px solid slategrey"}}}}}});var It=function(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(!0),r=Object(d.a)(o,2),u=r[0],x=r[1],h=Object(a.useState)(!1),m=Object(d.a)(h,2),O=m[0],g=m[1],v=Object(a.useState)(!1),w=Object(d.a)(v,2),k=w[0],C=w[1],N=Object(a.useState)(!1),_=Object(d.a)(N,2),D=_[0],I=_[1],E=Object(a.useState)(!1),A=Object(d.a)(E,2),q=A[0],L=A[1],B=Object(a.useState)(null),T=Object(d.a)(B,2),G=T[0],W=T[1];function z(e){x(!1),setTimeout((function(){c(!1)}),300)}function F(){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0),x(!0),L(!1),g(!1),W(null),C(!1),I(!1),S.connect().then((function(e){console.log("done"),g(!0),z()})).catch((function(){console.log("caught something"),g(!1),z(),W(Object(J.jsx)(yt,{retry:F}))}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){setTimeout((function(){I(!0),W(null)}),500)}function M(){console.log("disconnected"),g(!1),L(!1),W(Object(J.jsx)(yt,{retry:F}))}function P(){I(!1),L(!1),W(Object(J.jsx)(kt,{callback:V}))}return Object(a.useEffect)((function(){F(),S.subscribe("onclose",M,!1,"onclose"),S.subscribe("game_not_running",P,!1)}),[]),Object(a.useEffect)((function(){O&&!q&&function(){function e(e){console.log("onboarded: ".concat(e)),C(e)}function t(e){console.log("game running: ".concat(e)),I(e),!1===e&&W(Object(J.jsx)(kt,{callback:V}))}function n(e){console.log("version: ".concat(e)),y=e}S.request({request:"get_onboarding_state"},e),S.request({request:"get_running_state"},t),S.request({request:"get_server_version"},n)}()}),[O]),Object(a.useEffect)((function(){console.log("checking if ready"),k&&D&&(console.log("ready"),L(!0))}),[k,D]),Object(J.jsxs)(b.a,{theme:Dt,children:[Object(J.jsx)(j.a,{}),G,function(){if(i)return Object(J.jsx)(_t,{open:u})}(),q?Object(J.jsxs)(p.a,{basename:"/",children:[Object(J.jsx)(f.b,{exact:!0,path:"/",children:k?Object(J.jsx)(f.a,{to:"/collection"}):Object(J.jsx)(f.a,{to:"/onboarding"})}),Object(J.jsx)(f.b,{path:"/collection",children:Object(J.jsx)(Qe,{})}),Object(J.jsx)(f.b,{path:"/onboarding",children:Object(J.jsx)(gt,{})}),Object(J.jsx)(f.b,{path:"/buddies",children:Object(J.jsx)($e,{})})]}):null]})},Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,208)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};o.a.render(Object(J.jsx)(i.a.StrictMode,{children:Object(J.jsx)(It,{})}),document.getElementById("root")),Et()}},[[117,1,2]]]);
//# sourceMappingURL=main.ffd60480.chunk.js.map