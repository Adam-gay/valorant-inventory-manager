(this.webpackJsonpVSM=this.webpackJsonpVSM||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(14),o=a.n(c),r=(a(89),a(6)),l=a(73),s=a(165),d=a(166),u=a(71),b=a(15),j=a(24),p=a.n(j),x=a(35),f={WEBSOCKET_URL:"ws://localhost:8765",SOCKET_RETRY_THRESHOLD:5,WEIGHT_INTERVALS:10},h=null,m=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){if(null!==h){try{h.send(JSON.stringify(t))}catch(n){console.log("you fucking moron this state should never occur"),a("error")}h.onmessage=function(n){var i=JSON.parse(n.data);i.request===t.request&&(i.error?a(i):e(i))}}else a()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function O(){return(O=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){if(null===h||null!==h&&1!==h.readyState)try{console.log("connecting"),h=new WebSocket(f.WEBSOCKET_URL),console.log(h),h.onerror=function(e){console.log(e),t(),h=null},h.onopen=function(t){console.log("opened"),e()},h.onmessage=function(t){console.log("messaged"),e()},1===h.readyState&&(console.log("redee"),e())}catch(a){console.log(a),h=null,t()}else e()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=a(120),v=a(25),y=a(171),w=a(123),k=a(124),S=a(43),C=a(125),N=a(170),_=a(128),I=a(127),D=a(129),E=a(130),L=a(131),T=a(121),A=a(1),W=Object(g.a)((function(e){return{backdrop:{display:"flex",alignItems:"center",justifyContent:"center"},mainPaper:{margin:"auto",width:"40%",height:"70vh",minWidth:"400px",maxWidth:"550px",display:"flex",justifySelf:"flex-start",justifyContent:"center",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto"}}}));var B=function(e){var t=W();return Object(v.a)(),Object(A.jsx)(T.a,{open:!1,className:t.backdrop,style:{zIndex:4},children:Object(A.jsx)(w.a,{className:t.mainPaper,children:"asdf"})})},q=Object(g.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},appBar:{flexGrow:1,margin:"12px",display:"flex",flexDirection:"column",zIndex:5,backgroundColor:"rgba(0, 0, 0, 0)",border:"0px rgb(255,255,255) solid",borderRadius:"15px"},statusBar:{alignSelf:"center",justifySelf:"center",display:"flex",marginRight:e.spacing(1),flexGrow:1},inGameIndicator:{alignSelf:"center",color:"#9de069"},action:{width:"40px",height:"40px",margin:e.spacing(.25)},loading:{animation:"spin 4s linear infinite"}}}));var G=function(e){var t=q(),a=Object(v.a)(),n=i.a.useState(!1),c=Object(r.a)(n,2),o=c[0],l=c[1],s=i.a.useState(!1),d=Object(r.a)(s,2),u=d[0],b=d[1];function j(){return(j=Object(x.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),setTimeout((function(){l(!1)}),3e3),t.next=4,m({request:"randomize_skins"}).then((function(t){e.setLoadout(t.response),l(!1)}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return h.onmessage=function(e){var t=JSON.parse(e.data);"game_state"===t.event&&(!0===t.data.state?b(!0):b(!1))},Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(B,{}),Object(A.jsx)(y.a,{direction:"down",in:!0,children:Object(A.jsx)(w.a,{variant:"outlined",className:t.appBar,position:"static",children:Object(A.jsxs)(k.a,{children:[Object(A.jsx)(S.a,{variant:"h6",style:{flexGrow:0,marginRight:a.spacing(2)},children:"a creative title"}),Object(A.jsx)("div",{className:t.statusBar,children:Object(A.jsx)(C.a,{in:u,children:Object(A.jsx)(N.a,{title:"In game",children:Object(A.jsx)(I.a,{className:t.inGameIndicator})})})}),Object(A.jsxs)("div",{className:t.actions,children:[Object(A.jsx)(_.a,{"aria-label":"randomize","aria-controls":"menu-appbar","aria-haspopup":"true",edge:"end",onClick:o?null:function(){return j.apply(this,arguments)},color:"inherit",className:t.action,children:o?Object(A.jsx)(D.a,{className:t.loading}):Object(A.jsx)(E.a,{})}),Object(A.jsx)(_.a,{"aria-label":"account button lol","aria-controls":"menu-appbar","aria-haspopup":"true",edge:"end",color:"inherit",className:t.action,children:Object(A.jsx)(L.a,{})})]})]})})})]})},F=a(153),R=a(154),z=a(177),M=a(132),P=Object(g.a)((function(e){return{}}));var V=function(e){P(),Object(v.a)();var t=e.equippedChromaIndex,a=Object.keys(e.levelData).length.toString(),i=Object(n.useState)(e.equippedLevelIndex.toString()),c=Object(r.a)(i,2),o=c[0],l=c[1];return Object(n.useEffect)((function(){if(1!==t&&o!==a){l(a);var n=Object.values(e.levelData)[a-1];e.setter(n)}}),[t]),Object(n.useEffect)((function(){l(e.equippedLevelIndex.toString())}),[e.equippedLevelIndex]),"1"!==a?Object(A.jsx)("div",{style:{width:"50%",display:"flex",flexDirection:"row",justifyContent:"flex-start",height:"45px"},children:Object(A.jsx)(z.a,{value:o,exclusive:!0,onChange:function(t,a){if(null!==a){l(a);var n=Object.values(e.levelData)[a-1];e.setter(n)}},"aria-label":"chroma level",style:{width:"90%",height:"95%"},children:Object.keys(e.levelData).map((function(n){var i=e.levelData[n],c=i.index.toString();return Object(A.jsx)(N.a,{title:i.level_type,disabled:!i.unlocked||!(1===t&&1!==c)&&c!==a,arrow:!0,children:Object(A.jsx)(M.a,{selected:o===c,value:c,"aria-label":i.index,style:{border:i.favorite?"1px #996D2D solid":null},children:i.shorthand_display_name})},i.display_name)}))})}):null},U=Object(g.a)((function(e){return{}}));var H=function(e){U(),e.equippedLevelIndex;var t=Object.keys(e.chromaData).length.toString(),a=(Object.keys(e.levelData).length.toString(),Object(n.useState)(e.equippedChromaIndex.toString())),i=Object(r.a)(a,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){o(e.equippedChromaIndex.toString())}),[e.equippedChromaIndex]),"1"!==t?Object(A.jsx)("div",{style:{flexGrow:1,width:"50%",display:"flex",flexDirection:"row",justifyContent:"flex-end",height:"45px"},children:Object(A.jsx)(z.a,{value:c,exclusive:!0,onChange:function(t,a){if(null!==a){o(a);var n=Object.values(e.chromaData)[a-1];e.setter(n)}},"aria-label":"skin level",style:{width:"90%",height:"95%",justifyContent:"flex-end",marginLeft:0},children:Object.keys(e.chromaData).map((function(t){var a=e.chromaData[t],n=a.index.toString();return null!==a.swatch_icon?Object(A.jsx)(N.a,{title:a.unlocked?a.display_name:"".concat(a.display_name," (Locked)"),disabled:!a.unlocked,arrow:!0,children:Object(A.jsx)(M.a,{selected:c===n,value:n,"aria-label":a.index,style:{border:a.favorite?"1px #996D2D solid":null},children:Object(A.jsx)("img",{alt:a.display_name,src:a.swatch_icon,style:{width:"25px",height:"auto",filter:a.unlocked?"":"grayscale(90%)"}})})},a.display_name):null}))})}):null},J=Object(g.a)((function(e){return{weaponPaper:{width:"100%",height:"75px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"0.1s ease-out !important","&:hover":{border:"1px ".concat(e.palette.primary.main," solid")}},container:{width:"93%",height:"90%",display:"flex"},tierImage:{height:"25px",alignSelf:"flex-end",margin:"3px 3px",position:"relative",bottom:"-2px",objectFit:"contain",objectPosition:"left center"},favoriteButton:{alignSelf:"flex-end",right:"2px",height:"25px",objectPosition:"center center"}}}));var K=function(e){var t=J(),a=Object(v.a)(),i=e.skinData,c="2f59173c-4bed-b6c3-2191-dea9b58be9c7"===e.weaponData.uuid,o=e.skinData.favorite,l=Object(n.useState)(i.uuid===e.equipped.uuid),s=Object(r.a)(l,2),d=s[0],u=s[1];return Object(n.useEffect)((function(){e.equipped.uuid===i.uuid?u(!0):u(!1)}),[e.equipped]),Object(A.jsx)(w.a,{variant:"outlined",className:t.weaponPaper,onClick:function(){e.equip(i.uuid)},style:{border:o?"1px ".concat(a.palette.warning.light," solid"):d?"1px ".concat(a.palette.primary.light," solid"):null},children:Object(A.jsx)("div",{className:t.container,style:{backgroundImage:"url(".concat(i.display_icon,")"),backgroundSize:c?"auto 87%":"contain",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",flexDirection:c?"column":"row",justifyContent:c?"flex-end":null},children:Object(A.jsx)("img",{alt:i.content_tier.display_name,src:i.content_tier.display_icon,className:t.tierImage,style:{left:c?"6px":"-6px"}})})})},Y=a(133),X=a(134),Q=a(135),Z=a(136),$=a(137),ee=a(138),te=Object(g.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},header:{width:"auto",display:"flex",marginTop:"15px",flexWrap:"wrap",flexDirection:"row-reverse"},headerButton:{marginLeft:e.spacing(.25)},loading:{animation:"spin 4s linear infinite"}}}));var ae=function(e){var t=te(),a=(Object(v.a)(),e.equippedSkinData),n=e.inventoryWeaponData,i=e.saving,c=e.saveCallback,o=e.isFavorite,r=e.favoriteCallback,l=e.isLocked,s=e.lockCallback,d=e.weightCallback;return Object(A.jsxs)("div",{className:t.header,children:[Object(A.jsxs)("div",{style:{display:"flex",order:2,flexGrow:1},children:[Object(A.jsx)("div",{style:{width:"auto",alignSelf:"center"},children:"Standard"!==a.content_tier.dev_name?Object(A.jsx)("img",{alt:a.content_tier.dev_name,src:a.content_tier.display_icon,style:{width:"auto",height:"40px",justifySelf:"center",marginRight:"10px"}}):null}),Object(A.jsxs)("div",{children:[Object(A.jsx)(S.a,{variant:"h5",children:a.display_name}),Object(A.jsxs)(S.a,{variant:"overline",children:["Battlepass"!==a.content_tier.dev_name?a.content_tier.dev_name:"Unlockable"," ",n.display_name," ",a.favorite?"// ".concat(Math.round(a.weight/n.total_weights*100),"% CHANCE"):null]})]})]}),Object(A.jsxs)("div",{style:{flexGrow:1,display:"flex",justifyContent:"flex-end"},children:[Object(A.jsx)(C.a,{in:o,mountOnEnter:!0,unmountOnExit:!0,children:Object(A.jsx)(N.a,{title:"Set randomizer weight",className:t.headerButton,children:Object(A.jsx)(_.a,{onClick:function(){d(!0)},style:{height:"40px",width:"40px"},children:Object(A.jsx)(Y.a,{})})})}),Object(A.jsx)(N.a,{title:l?"Unlock weapon from randomization":"Lock weapon from randomization",className:t.headerButton,children:Object(A.jsx)(_.a,{onClick:s,style:{height:"40px",width:"40px"},children:l?Object(A.jsx)(X.a,{}):Object(A.jsx)(Q.a,{})})}),Object(A.jsx)(N.a,{title:o?"Remove skin from favorites":"Add skin to favorites",className:t.headerButton,children:Object(A.jsx)(_.a,{onClick:r,style:{height:"40px",width:"40px"},children:o?Object(A.jsx)(Z.a,{}):Object(A.jsx)($.a,{})})}),Object(A.jsx)(N.a,{title:"Save",className:t.headerButton,children:Object(A.jsx)(_.a,{onClick:c,style:{height:"40px",width:"40px"},children:i?Object(A.jsx)(D.a,{className:t.loading}):Object(A.jsx)(ee.a,{})})})]})]})},ne=a(139),ie=a(140),ce=a(141),oe=a(142),re=a(143),le=a(144),se=a(145),de=a(146),ue=a(147),be=Object(g.a)((function(e){return{equippedActions:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:"10px",marginLeft:"10px",padding:"2px",transition:"all .2s ease !important"},previewAction:{height:"35px",width:"35px",alignSelf:"center",margin:e.spacing(.25),transition:"all .2s ease !important"},previewActionIcon:{width:"20px",height:"20px"}}}));var je=function(e){var t=be(),a=(Object(v.a)(),e.hasAlternateMedia),n=e.showingVideo,i=e.changeVideoStateCallback,c=e.showingControls,o=e.changeControlsStateCallback,r=e.isFavoriteLevel,l=e.isFavoriteChroma,s=e.toggleFavoriteLevelCallback,d=e.toggleFavoriteChromaCallback,u=e.canFavoriteLevel,b=e.canFavoriteChroma,j=a||u||b;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(C.a,{in:j,mountOnEnter:!0,unmountOnExit:!0,children:Object(A.jsxs)(w.a,{variant:"outlined",outlinecolor:"secondary",className:t.equippedActions,children:[Object(A.jsx)(ne.a,{in:u,mountOnEnter:!0,unmountOnExit:!0,children:Object(A.jsx)(N.a,{title:r?"Remove level from favorites":"Add level to favorites",children:Object(A.jsx)(_.a,{onClick:function(){s()},"aria-label":"favorite level",className:t.previewAction,children:r?Object(A.jsx)(ie.a,{className:t.previewActionIcon}):Object(A.jsx)(ce.a,{className:t.previewActionIcon})})})}),Object(A.jsx)(ne.a,{in:b,mountOnEnter:!0,unmountOnExit:!0,children:Object(A.jsx)(N.a,{title:l?"Remove chroma from favorites":"Add chroma to favorites",children:Object(A.jsx)(_.a,{onClick:function(){d()},"aria-label":"favorite chroma",className:t.previewAction,children:l?Object(A.jsx)(oe.a,{className:t.previewActionIcon}):Object(A.jsx)(re.a,{className:t.previewActionIcon})})})}),Object(A.jsx)(ne.a,{in:a,mountOnEnter:!0,unmountOnExit:!0,children:Object(A.jsx)(N.a,{title:n?"Stop video preview":"Play video preview",children:Object(A.jsx)(_.a,{onClick:function(){i(!n)},"aria-label":"preview",className:t.previewAction,children:n?Object(A.jsx)(le.a,{className:t.previewActionIcon}):Object(A.jsx)(se.a,{className:t.previewActionIcon})})})}),Object(A.jsx)(ne.a,{in:n,mountOnEnter:!0,unmountOnExit:!0,children:Object(A.jsx)(N.a,{title:c?"Hide video controls":"Show video controls",children:Object(A.jsx)(_.a,{onClick:function(){o(!c)},"aria-label":"preview",className:t.previewAction,children:c?Object(A.jsx)(de.a,{className:t.previewActionIcon}):Object(A.jsx)(ue.a,{className:t.previewActionIcon})})})})]})})})},pe=a(168),xe=a(148),fe=a(149),he=a(150),me=a(172),Oe=a(151),ge=a(152),ve=Object(g.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},content:{margin:"0px 10px 0px 10px"}}}));var ye=function(e){var t=ve(),a=(Object(v.a)(),Object(n.useState)(0)),i=Object(r.a)(a,2),c=i[0],o=i[1],l=e.totalWeights-e.weight,s=Object(n.useState)(l),d=Object(r.a)(s,2),u=d[0],b=d[1];function j(){e.close(!1),o(e.weight)}return Object(n.useEffect)((function(){e.open&&(o(e.weight),b(l+c))}),[e.open]),Object(n.useEffect)((function(){b(l+c)}),[c]),Object(n.useEffect)((function(){o(e.weight)}),[e.weight]),Object(A.jsxs)(pe.a,{open:e.open,fullWidth:!0,maxWidth:"xs",onClose:j,children:[Object(A.jsx)(xe.a,{children:"Randomizer Weight"}),Object(A.jsxs)(fe.a,{className:t.content,children:[Object(A.jsxs)(he.a,{style:{marginBottom:"20px"},children:["Weights are relative, so there is a ",Object(A.jsxs)("strong",{children:[Math.round(c/u*100),"%"]})," chance this skin will be selected."]}),Object(A.jsx)(me.a,{valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:f.WEIGHT_INTERVALS,value:c,onChange:function(e,t){return o(t)}})]}),Object(A.jsxs)(Oe.a,{children:[Object(A.jsx)(ge.a,{color:"primary",onClick:j,children:"Cancel"}),Object(A.jsx)(ge.a,{color:"primary",onClick:function(){e.saveCallback(c,u)},children:"Save"})]})]})},we=Object(g.a)((function(e){return{backdrop:{display:"flex",alignItems:"center",justifyContent:"center"},masterGrid:{display:"flex",margin:"auto",height:"100%",width:"100%"},mainPaper:{margin:"auto",width:"50%",height:"90vh",minWidth:"500px",maxWidth:"800px",display:"flex",justifySelf:"flex-start",justifyContent:"center",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"darkgrey",outline:"1px solid slategrey",backgroundClip:"padding-box"}},paperOnTopContent:{width:"92%",background:"#424242",paddingBottom:"10px",display:"flex",flexDirection:"column",position:"sticky",top:0,zIndex:4},mainSkinMedia:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"center",marginTop:"10px",transition:"all .2s ease"},paperCustomizingContent:{width:"92%",height:"auto",marginTop:"5px",display:"flex",flexDirection:"column",overflowY:"auto",alignItems:"stretch",top:0},levelSelectors:{display:"flex",flexDirection:"row",width:"100%",flexGrow:1,marginBottom:"15px",transition:"all .2s ease"},skinSelector:{marginBottom:"15px",marginTop:"15px",padding:"2px 2px",display:"flex",justifyContent:"center"}}}));var ke=function(e){var t=we(),a=(Object(v.a)(),e.inventoryData[e.weaponUuid]),i=a.skins,c=e.initialSkinData,o=Object(n.useState)(i[c.skin_uuid]),l=Object(r.a)(o,2),s=l[0],d=l[1],u=Object(n.useState)(i[c.skin_uuid].levels[e.loadoutWeaponData.level_uuid]),b=Object(r.a)(u,2),j=b[0],p=b[1],x=Object(n.useState)(i[c.skin_uuid].chromas[e.loadoutWeaponData.chroma_uuid]),f=Object(r.a)(x,2),h=f[0],m=f[1],O=Object(n.useState)(i[c.skin_uuid].favorite),g=Object(r.a)(O,2),y=g[0],k=g[1],S=Object(n.useState)(),N=Object(r.a)(S,2),_=N[0],I=N[1],D=Object(n.useState)(),E=Object(r.a)(D,2),L=E[0],W=E[1],B=Object(n.useState)(!0),q=Object(r.a)(B,2),G=q[0],z=q[1],M=Object(n.useState)(!0),P=Object(r.a)(M,2),U=P[0],J=P[1],Y=Object(n.useState)(!1),X=Object(r.a)(Y,2),Q=X[0],Z=X[1],$=Object(n.useState)(!1),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],ie=Object(n.useState)(a.locked),ce=Object(r.a)(ie,2),oe=ce[0],re=ce[1],le=Object(n.useState)(!0),se=Object(r.a)(le,2),de=se[0],ue=se[1],be=Object(n.useState)(!1),pe=Object(r.a)(be,2),xe=pe[0],fe=pe[1],he=Object(n.useState)(!1),me=Object(r.a)(he,2),Oe=me[0],ge=me[1],ve=Object(n.useState)(!1),ke=Object(r.a)(ve,2),Se=ke[0],Ce=ke[1],Ne=Object(n.useState)(!1),_e=Object(r.a)(Ne,2),Ie=_e[0],De=_e[1],Ee=Object(n.useState)(!1),Le=Object(r.a)(Ee,2),Te=Le[0],Ae=Le[1],We=Object(n.useState)(!1),Be=Object(r.a)(We,2),qe=Be[0],Ge=Be[1];function Fe(e){for(var t=i[e],a=0,n=0;n<Object.keys(t.levels).length;n++)!0===t.levels[Object.keys(t.levels)[n]].unlocked&&(a=t.levels[Object.keys(t.levels)[n]].index);for(var c=0;c<Object.keys(t.chromas).length;c++)!0===t.chromas[Object.keys(t.chromas)[c]].unlocked&&t.chromas[Object.keys(t.chromas)[c]].index;1===Object.keys(t.levels).length&&1===Object.keys(t.chromas).length?ge(!1):ge(!0),d(t),p(t.levels[Object.keys(t.levels)[a-1]]),m(t.chromas[Object.keys(t.chromas)[0]]),Ce(!1),Ae(!1)}return Object(n.useEffect)((function(){de&&(document.title="VSM // ".concat(a.display_name))}),[de]),Object(n.useEffect)((function(){De(null!==h.video_preview||null!==j.video_preview),k(s.favorite),function(){for(var e=s.levels,t=[],a=0,n=Object.keys(e);a<n.length;a++){var i=e[n[a]];i.favorite&&t.push(i.uuid)}I(t),t.includes(j.uuid)?Z(!0):Z(!1),1===Object.keys(e).length?z(!1):z(!0)}(),function(){for(var e=s.chromas,t=[],a=0,n=Object.keys(e);a<n.length;a++){var i=e[n[a]];i.favorite&&t.push(i.uuid)}W(t),t.includes(h.uuid)?ne(!0):ne(!1),1===Object.keys(e).length?J(!1):J(!0)}()}),[s,j,h]),Object(n.useEffect)((function(){Fe(c.skin_uuid),p(i[c.skin_uuid].levels[e.loadoutWeaponData.level_uuid]),m(i[c.skin_uuid].chromas[e.loadoutWeaponData.chroma_uuid])}),[]),null==a&&null==c?null:Object(A.jsxs)(T.a,{open:de,className:t.backdrop,style:{zIndex:4},children:[Object(A.jsx)(ye,{open:qe,close:Ge,saveCallback:function(e,t){Ge(!1),s.weight=e,a.total_weights=t,console.log(e)},weight:s.weight,totalWeights:a.total_weights}),Object(A.jsxs)(w.a,{className:t.mainPaper,variant:"outlined",children:[Object(A.jsxs)("div",{className:t.paperOnTopContent,children:[Object(A.jsx)(ae,{equippedSkinData:s,inventoryWeaponData:a,saving:xe,saveCallback:function(){fe(!0);var t={weaponUuid:e.weaponUuid,skinUuid:s.uuid,levelUuid:j.uuid,chromaUuid:h.uuid,inventoryData:a,skinsData:i},n=c.skin_uuid,o=c.chroma_uuid,r=c.level_uuid,l=j.uuid===r&&h.uuid===o&&s.uuid===n,d=JSON.stringify(t),u=!1;e.saveCallback(d,l).then((function(){u=!0,ue(!1),setTimeout((function(){e.closeEditor()}),100)})),setTimeout((function(){u||(ue(!1),setTimeout((function(){e.closeEditor()}),100))}),3e3)},isFavorite:y,favoriteCallback:function(){i[s.uuid].favorite=!y,y?a.total_weights-=s.weight:a.total_weights+=s.weight,k(!y)},isLocked:oe,lockCallback:function(){re(!a.locked),a.locked=!a.locked},weightCallback:Ge}),Object(A.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row"},children:[Object(A.jsx)(w.a,{variant:"outlined",outlinecolor:"secondary",className:t.mainSkinMedia,style:{height:Se?"35vh":"125px",maxHeight:"350px",maxWidth:"100%",overflowX:"hidden"},children:function(){var e=!1,t=!1;return null!==h.video_preview&&(e=!0),1!==h.index||null===j.display_icon||s.display_name.includes("Standard")||(t=!0),Se?Se&&null!==j.video_preview?Object(A.jsx)(C.a,{in:!0,children:Object(A.jsx)("video",{src:e?h.video_preview:j.video_preview,type:"video/mp4",controls:Te,autoPlay:!0,onEnded:function(){Ce(!1)},style:{width:"auto",height:"100%",overflow:"hidden",objectFit:"contain",flexGrow:1,alignSelf:"center"}})}):void Ce(!1):Object(A.jsx)(C.a,{in:!0,children:Object(A.jsx)("img",{alt:h.display_name,src:t?j.display_icon:h.display_icon,style:{maxWidth:"90%",maxHeight:"85%",objectFit:"contain",alignSelf:"center",overflow:"hidden"}})})}()}),Object(A.jsx)(je,{hasAlternateMedia:Ie,showingVideo:Se,changeVideoStateCallback:Ce,showingControls:Te,changeControlsStateCallback:Ae,toggleFavoriteLevelCallback:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=null===t?j.uuid:t;var n,c=_;(n=null===a?!c.includes(j.uuid):a)&&!c.includes(e)?c.push(e):!n&&c.includes(e)&&c.splice(c.indexOf(e),1),Z(n),I(c),i[s.uuid].levels[j.uuid].favorite=n},isFavoriteLevel:Q,toggleFavoriteChromaCallback:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?(e=h.uuid,console.log(e)):e=t;var n,c=L;(n=null===a?!c.includes(h.uuid):a)&&!c.includes(e)?c.push(e):!n&&c.includes(e)&&c.splice(c.indexOf(e),1),ne(n),W(c),i[s.uuid].chromas[e].favorite=n},isFavoriteChroma:te,canFavoriteLevel:G,canFavoriteChroma:U})]})]}),Object(A.jsxs)("div",{className:t.paperCustomizingContent,children:[Object(A.jsxs)("div",{className:t.levelSelectors,style:{height:Oe?"45px":"0px"},children:[Object(A.jsx)(V,{levelData:s.levels,equippedLevelIndex:j.index,equippedChromaIndex:h.index,setter:p}),Object(A.jsx)(H,{levelData:s.levels,chromaData:s.chromas,equippedLevelIndex:j.index,equippedChromaIndex:h.index,setter:m})]}),Oe?Object(A.jsx)(F.a,{variant:"middle"}):null,Object(A.jsx)("div",{className:t.skinSelector,children:Object(A.jsx)(R.a,{style:{width:"100%",height:"100%",justifySelf:"center"},container:!0,justifyContent:"flex-start",direction:"row",alignItems:"center",spacing:1,children:Object.keys(i).map((function(e){var t=i[e];return Object(A.jsx)(R.a,{item:!0,xs:4,children:Object(A.jsx)(K,{skinData:t,weaponData:a,equip:Fe,equipped:s})},t.display_name)}))})})]})]})]})},Se=a(102),Ce=a(155),Ne={"29a0cfab-485b-f5d5-779a-b59f85e204a8":["100px","20px"],"42da8ccc-40d5-affc-beec-15aa47b42eda":["130px","30px"],"44d4e95c-4157-0037-81b2-17841bf2e8e3":["100px","10px"],"1baa85b4-4c70-1284-64bb-6481dfc3bb4e":["140px","35px"],"e336c6b8-418d-9340-d77f-7a9e4cfe0702":["140px","20px"],"f7e1b454-4ad4-1063-ec0a-159e56b58941":["195px","20px"],"462080d1-4035-2937-7c09-27aa2a5c27a7":["200px","20px"],"910be174-449b-c412-ab22-d0873436b21b":["240px","40px"],"ec845bf4-4f79-ddda-a3da-0db3774b2794":["240px","30px"],"ae3de142-4d85-2547-dd26-4e90bed35cf7":["240px","20px"],"4ade7faa-4cf1-8376-95ef-39884480959b":["240px","60px"],"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a":["250px","30px"],"9c82e19d-4575-0200-1a81-3eacf00cf872":["240px","30px"],"c4883e50-4494-202c-3ec3-6b8a9284f00b":["250px","70px"],"a03b24d3-4319-996d-0f8c-94bbfba1dfc7":["240px","100px"],"55d8a0f4-4274-ca67-fe2c-06ab45efdf58":["260px","80px"],"63e6c2b6-4a8e-869c-3d4c-e38355226584":["270px","40px"],"2f59173c-4bed-b6c3-2191-dea9b58be9c7":["auto","20px"]},_e=Object(g.a)((function(e){return{weaponContainerVideo:{position:"absolute",objectFit:"cover",width:"auto",height:"auto"},weaponPaper:{flexDirection:"row",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",backgroundPosition:"center",backgroundRepeat:"no-repeat",background:"transparent",zIndex:-1,transition:"0.1s ease-out !important","&:hover":{border:"1px ".concat(e.palette.primary.main," solid")}},bottomGradient:{zIndex:0,width:"100%",height:"100%"},dataContainer:{width:"100%",height:"100%",display:"flex",position:"relative",top:"-100%"},textContainer:{display:"flex",flexDirection:"column",width:"100%",height:"100%",alignSelf:"flex-start",alignItems:"center",justifyContent:"center",backgroundPosition:"center",overflow:"visible",zIndex:1},buddyContainer:{display:"flex",maxWidth:"50px",height:"100%",position:"relative",right:0,bottom:7},buddyImage:{width:"100%",height:"auto",objectFit:"contain",alignSelf:"flex-end"},weaponLabelHolder:{display:"flex",width:"80%",height:"50%",position:"relative",alignSelf:"flex-start",left:12,bottom:-22},weaponLabel:{textAlign:"left",width:"100%",flexGrow:1,height:"auto",alignSelf:"flex-end",textOverflow:"ellipsis"}}}));var Ie=function(e){var t=_e(),a=(Object(v.a)(),!1),i=Object(n.useState)(!0),c=Object(r.a)(i,2),o=c[0],l=c[1],s=Object(n.useState)(!1),d=Object(r.a)(s,2),u=d[0],b=d[1],j=Object(n.useState)({}),p=Object(r.a)(j,2),x=p[0],f=p[1],h=Object(n.useState)(!1),m=Object(r.a)(h,2),O=m[0],g=m[1],y=void 0!==e.data?e.data.favorite:"",k=void 0!==e.data?e.data.locked:"";function N(){return 150*Math.random()+100}return Object(n.useEffect)((function(){if(void 0!==e.data){var t=null!==x?x.skin_image:"";!1===a&&e.data.skin_image!==t&&(a=!0,setTimeout((function(){l(!0),setTimeout((function(){f(e.data),setTimeout((function(){l(!1),a=!1}),N())}),N())}),N())),e.data.buddy_name!==x.buddy_name&&setTimeout((function(){b(!0),setTimeout((function(){f(e.data),setTimeout((function(){b(!1)}),N())}),N())}),N())}}),[e.data]),Object(A.jsx)(Se.a,{in:!o,children:Object(A.jsxs)(w.a,{className:t.weaponPaper,variant:"outlined",onMouseEnter:function(){g(!0)},onMouseLeave:function(){g(!1)},onMouseDown:function(){e.weaponEditorCallback(e.uuid)},style:{backgroundPosition:e.useLargeWeaponImage?"50% 50%":"50% 40%",backgroundImage:x!=={}?"url(".concat(x.skin_image,")"):'url("https://media.valorant-api.com/weapons/'.concat(e.uuid,'/displayicon.png")'),backgroundSize:"2f59173c-4bed-b6c3-2191-dea9b58be9c7"!==e.uuid?e.useLargeWeaponImage?"calc(".concat(Ne[e.uuid][0]," + ").concat(Ne[e.uuid][1],") auto"):"".concat(e.uuid in Ne?Ne[e.uuid][0]:"250px"," auto"):"auto 80%"},children:[Object(A.jsx)("div",{className:t.bottomGradient}),Object(A.jsxs)("div",{className:t.dataContainer,children:[Object(A.jsxs)("div",{className:t.textContainer,children:[Object(A.jsx)("div",{className:t.weaponLabelHolder,children:Object(A.jsxs)(S.a,{className:t.weaponLabel,variant:"overline",children:[k?"\ud83d\udd12 ":null,e.displayName]})}),Object(A.jsx)("div",{style:{width:"80%",alignSelf:"flex-start",position:"relative",left:12},children:Object(A.jsx)(Ce.a,{in:O,children:Object(A.jsxs)(S.a,{className:t.weaponLabel,variant:"body2",style:{marginTop:"14px",marginBottom:"5px"},children:[y?"\u2764 ":null,x.skin_name]})})})]}),Object(A.jsx)(C.a,{in:!u,children:Object(A.jsx)("div",{className:t.buddyContainer,style:{width:e.isSidearm?"20%":"14%"},children:"2f59173c-4bed-b6c3-2191-dea9b58be9c7"!==e.uuid?Object(A.jsx)("img",{alt:x.buddy_name,className:t.buddyImage,src:""!==x.buddy_image?x.buddy_image:null}):Object(A.jsx)("img",{alt:"",src:""})})})]})]})})},De=Object(g.a)((function(e){return{root:{display:"flex",margin:"auto",width:"100%",alignSelf:"center"},collectionMainGridItem:{display:"flex",alignItems:"center"},collectionItem:{height:"115px"}}})),Ee=[[{type:"weapon",sidearm:!0,uuid:"29a0cfab-485b-f5d5-779a-b59f85e204a8",displayName:"Classic"},{type:"weapon",sidearm:!1,uuid:"f7e1b454-4ad4-1063-ec0a-159e56b58941",displayName:"Stinger"},{type:"weapon",sidearm:!1,uuid:"ae3de142-4d85-2547-dd26-4e90bed35cf7",displayName:"Bulldog"},{type:"weapon",sidearm:!1,uuid:"c4883e50-4494-202c-3ec3-6b8a9284f00b",displayName:"Marshal"}],[{type:"weapon",sidearm:!0,uuid:"42da8ccc-40d5-affc-beec-15aa47b42eda",displayName:"Shorty"},{type:"weapon",sidearm:!1,uuid:"462080d1-4035-2937-7c09-27aa2a5c27a7",displayName:"Spectre"},{type:"weapon",sidearm:!1,uuid:"4ade7faa-4cf1-8376-95ef-39884480959b",displayName:"Guardian"},{type:"weapon",sidearm:!1,uuid:"a03b24d3-4319-996d-0f8c-94bbfba1dfc7",displayName:"Operator"}],[{type:"weapon",sidearm:!0,uuid:"44d4e95c-4157-0037-81b2-17841bf2e8e3",displayName:"Frenzy"},{type:"weapon",sidearm:!1,uuid:"910be174-449b-c412-ab22-d0873436b21b",displayName:"Bucky"},{type:"weapon",sidearm:!1,uuid:"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a",displayName:"Phantom"},{type:"weapon",sidearm:!1,uuid:"55d8a0f4-4274-ca67-fe2c-06ab45efdf58",displayName:"Ares"}],[{type:"weapon",sidearm:!0,uuid:"1baa85b4-4c70-1284-64bb-6481dfc3bb4e",displayName:"Ghost"},{type:"weapon",sidearm:!1,uuid:"ec845bf4-4f79-ddda-a3da-0db3774b2794",displayName:"Judge"},{type:"weapon",sidearm:!1,uuid:"9c82e19d-4575-0200-1a81-3eacf00cf872",displayName:"Vandal"},{type:"weapon",sidearm:!1,uuid:"63e6c2b6-4a8e-869c-3d4c-e38355226584",displayName:"Odin"}],[{type:"weapon",sidearm:!0,uuid:"e336c6b8-418d-9340-d77f-7a9e4cfe0702",displayName:"Sheriff"},{type:"placeholder"},{type:"weapon",sidearm:!1,uuid:"2f59173c-4bed-b6c3-2191-dea9b58be9c7",displayName:"Melee"}]];var Le=function(e){var t=De(),a=window.innerWidth<980||window.innerWidth>1500,i=window.innerWidth<980;return Object(n.useEffect)((function(){a=window.innerWidth<980||window.innerWidth>1500,i=window.innerWidth<980}),[]),Object(A.jsx)(R.a,{className:t.root,container:!0,justifyContent:"center",direction:"row",alignItems:"center",spacing:2,children:Ee.map((function(n){if(null!==e.loadout)return n.map((function(n){return"weapon"===n.type?Object(A.jsx)(R.a,{className:t.collectionItem,item:!0,md:!0===n.sidearm?2:3,sm:12,xs:12,children:Object(A.jsx)(Ie,{data:e.loadout[n.uuid],uuid:n.uuid,displayName:n.displayName,useLargeWeaponImage:a,weaponEditorCallback:e.weaponEditorCallback,isSidearm:n.sidearm})},n.uuid):i?Object(A.jsx)("br",{}):Object(A.jsx)(R.a,{className:t.collectionItem,item:!0,md:6,sm:!1,xs:!1},"placeholder")}))}))})},Te=a(156),Ae=Object(g.a)((function(e){return{footer:{height:"25vh"},root:{height:"80vh",margin:"auto",display:"flex",padding:0,flexGrow:1}}}));var We=function(e){var t=Ae(),a=Object(n.useState)(!1),i=Object(r.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(""),s=Object(r.a)(l,2),d=(s[0],s[1],Object(n.useState)({})),u=Object(r.a)(d,2),b=u[0],j=u[1],f=Object(n.useState)(!1),h=Object(r.a)(f,2),O=h[0],g=h[1],v=Object(n.useState)({}),y=Object(r.a)(v,2),w=y[0],k=y[1],S=Object(n.useState)(),C=Object(r.a)(S,2),N=C[0],_=C[1];function I(){return(I=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({request:"fetch_inventory"}).then((function(e){!0===e.success&&j(e.response.skins)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return E.apply(this,arguments)}function E(){return(E=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({request:"fetch_loadout"}).then((function(e){!0===e.success&&k(e.response)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return T.apply(this,arguments)}function T(){return(T=Object(x.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{m({request:"update_inventory",args:{payload:t}}).then((function(n){j(n.response),a?e():m({request:"put_weapon",args:{payload:t}}).then((function(t){k(t.response),e()}))}))}catch(i){e()}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){g(!1),_(null)}return Object(n.useEffect)((function(){c||(setTimeout((function(){D().then((function(){!function(){I.apply(this,arguments)}()}))}),300),setInterval((function(){return D()}),5e3),o(!0))}),[]),Object(n.useEffect)((function(){O||(document.title="VSM // Collection")}),[O]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(G,{setLoadout:k}),Object(A.jsxs)(Te.a,{maxWidth:"xxl",className:t.root,children:[N,Object(A.jsx)(Le,{weaponEditorCallback:function(e){g(!0),_(Object(A.jsx)(ke,{weaponUuid:e,initialSkinData:w[e],inventoryData:b,loadoutWeaponData:w[e],saveCallback:L,closeEditor:W}))},loadout:w})]})]})},Be=a(173),qe=a(157),Ge=a(169),Fe=Object(g.a)((function(e){return{stepper:{}}})),Re=["Hello!","VALORANT Account","Settings"];var ze=function(e){var t=Fe(),a=(Object(v.a)(),e.activeStep);return Object(A.jsx)(Be.a,{activeStep:a,className:t.stepper,children:Re.map((function(e,t){return Object(A.jsx)(qe.a,{children:Object(A.jsx)(Ge.a,{children:e})},e)}))})},Me=a(158),Pe=a(174),Ve=a(159),Ue=Object(g.a)((function(e){return{headerText:{justifySelf:"center",textAlign:"center",background:"linear-gradient(90deg, rgba(255,190,190,1) 0%, rgba(250,117,129,1) 50%, rgba(255,190,190,1) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},bodyText:{marginTop:"3px",justifySelf:"center",textAlign:"center"},list:{width:"400px",justifySelf:"center",alignSelf:"center",display:"flex",flexDirection:"column",paddingTop:"0px"},listItem:{justifySelf:"center",textAlign:"center",padding:"2px"},buttonDiv:{display:"flex",height:"100%",width:"100%",flexDirection:"column",flexGrow:1,marginTop:"5px",justifyContent:"flex-end"},startButton:{width:"100%",height:"37px",alignSelf:"center",marginBottom:"15px"}}}));var He=function(e){var t=Ue(),a=(Object(v.a)(),e.pageStyle);return Object(A.jsxs)("div",{style:a,children:[Object(A.jsx)(S.a,{variant:"h3",className:t.headerText,children:Object(A.jsx)("strong",{children:"VSM"})}),Object(A.jsx)(S.a,{variant:"body1",className:t.bodyText,children:"VALORANT inventory management, expanded"}),Object(A.jsx)(F.a,{variant:"middle",style:{margin:"10px"}}),Object(A.jsx)(Me.a,{className:t.list,dense:!0,children:["improved skin selection","favorites system","skin randomizer","automatic randomization"].map((function(e){return Object(A.jsx)(Pe.a,{className:t.listItem,children:Object(A.jsx)(Ve.a,{primary:e})},e)}))}),Object(A.jsx)("div",{className:t.buttonDiv,children:Object(A.jsx)(ge.a,{variant:"outlined",color:"primary",onClick:e.nextCallback,className:t.startButton,children:"Get Started"})})]})},Je=a(160),Ke=a(175),Ye=a(161),Xe=a(162),Qe=a(163),Ze=Object(g.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},start:{display:"flex",flexDirection:"column",flexGrow:1},gameNotRunning:{display:"flex",flexDirection:"column",flexGrow:1},autodetectClient:{display:"flex",flexDirection:"column",flexGrow:1},accountDataList:{flexGrow:0,marginBottom:"5px"},loading:{animation:"spin 4s linear infinite"},buttons:{display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"flex-end"},nextButton:{width:"100%",height:"37px",marginBottom:"15px"}}}));var $e=function(e){var t=Ze(),a=(Object(v.a)(),e.pageStyle),i=Object(n.useState)(!1),c=Object(r.a)(i,2),o=c[0],l=c[1],s=Object(n.useState)(!0),d=Object(r.a)(s,2),u=d[0],b=d[1],j=Object(n.useState)(!1),p=Object(r.a)(j,2),x=p[0],f=p[1],h=Object(n.useState)(!1),O=Object(r.a)(h,2),g=O[0],y=O[1],w=Object(n.useState)({}),k=Object(r.a)(w,2),C=k[0],N=k[1];return Object(n.useEffect)((function(){x||m({request:"get_running_state"}).then((function(e){!0===e.success&&(l(e.response),f(!0))}))}),[]),Object(n.useEffect)((function(){o&&!g&&m({request:"autodetect_account"}).then((function(e){!0===e.success&&(y(!0),N(e.response))}))}),[o]),Object(A.jsx)("div",{style:a,children:Object(A.jsxs)("div",{className:t.start,children:[Object(A.jsx)(S.a,{variant:"h4",children:"Let's get started"}),Object(A.jsx)(Se.a,{in:!o&&x,unmountOnExit:!0,mountOnEnter:!0,children:Object(A.jsxs)("div",{className:t.gameNotRunning,children:[Object(A.jsx)(S.a,{style:{marginTop:"12px",marginBottom:"10px"},variant:"body2",children:"It looks like VALORANT isn't open. VALORANT needs to be open to set up VSM."}),Object(A.jsx)(ge.a,{variant:"outlined",color:"primary",disabled:!u,className:t.startButton,onClick:function(){b(!1),m({request:"start_game"}).then((function(e){!0===e.response&&l(!0)}))},children:u?"Launch VALORANT":Object(A.jsx)(D.a,{className:t.loading})})]})}),Object(A.jsx)(Se.a,{in:o,style:{transitionDelay:"200ms"},unmountOnExit:!0,mountOnEnter:!0,children:Object(A.jsxs)("div",{className:t.autodetectClient,children:[Object(A.jsx)(S.a,{style:{marginTop:"12px",marginBottom:"5px"},variant:"body2",children:g?"Discovered the following account data:":"Attempting to autodetect your VALORANT account."}),Object(A.jsx)(Se.a,{in:g,mountOnEnter:!0,unmountOnExit:!0,children:Object(A.jsxs)(Me.a,{className:t.accountDataList,children:[Object(A.jsxs)(Pe.a,{children:[Object(A.jsx)(Je.a,{children:Object(A.jsx)(Ke.a,{children:Object(A.jsx)(Ye.a,{})})}),Object(A.jsx)(Ve.a,{primary:"".concat(C.game_name,"#").concat(C.game_tag)})]}),Object(A.jsxs)(Pe.a,{children:[Object(A.jsx)(Je.a,{children:Object(A.jsx)(Ke.a,{children:Object(A.jsx)(Xe.a,{})})}),Object(A.jsx)(Ve.a,{primary:"Region: ".concat(C.region)})]}),Object(A.jsxs)(Pe.a,{children:[Object(A.jsx)(Je.a,{children:Object(A.jsx)(Ke.a,{children:Object(A.jsx)(Qe.a,{})})}),Object(A.jsx)(Ve.a,{primary:"Shard: ".concat(C.shard)})]})]})}),Object(A.jsx)(Se.a,{in:g,style:{transitionDelay:"500ms"},mountOnEnter:!0,unmountOnExit:!0,children:Object(A.jsx)("div",{className:t.buttons,children:Object(A.jsx)(ge.a,{variant:"outlined",color:"primary",onClick:e.nextCallback,className:t.nextButton,children:"Next"})})})]})})]})})},et=Object(g.a)((function(e){return{root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},paper:{width:"500px",height:"400px",display:"flex",flexDirection:"column"},pageContent:{display:"flex",flexGrow:1,alignItems:"center",flexDirection:"column"}}})),tt={width:"90%",height:"100%",display:"flex",flexDirection:"column",flexGrow:1};var at=function(e){var t=et(),a=(Object(v.a)(),[Object(A.jsx)(He,{pageStyle:tt,nextCallback:s}),Object(A.jsx)($e,{pageStyle:tt,nextCallback:s})]),i=Object(n.useState)(0),c=Object(r.a)(i,2),o=c[0],l=c[1];function s(){l(o+1)}return Object(A.jsx)(Te.a,{maxWidth:"xl",className:t.root,children:Object(A.jsx)(C.a,{in:!0,children:Object(A.jsxs)(w.a,{variant:"outlined",className:t.paper,children:[Object(A.jsx)(ze,{activeStep:o}),Object(A.jsx)("div",{className:t.pageContent,children:a[o]})]})})})},nt=Object(g.a)((function(e){return{root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.background.default,zIndex:100},main:{width:"300px",height:"200px",display:"flex",flexDirection:"column",alignItems:"center"},content:{display:"flex",flexDirection:"column",flexGrow:1,alignItems:"center"},retryButton:{alignSelf:"center",width:"80%"},buttons:{display:"flex",width:"100%",flexDirection:"column",flexGrow:1,justifyContent:"center"}}}));var it=function(e){var t=nt();return Object(v.a)(),Object(A.jsx)(T.a,{open:!0,className:t.root,children:Object(A.jsx)(C.a,{in:!0,children:Object(A.jsx)("div",{className:t.main,children:Object(A.jsxs)("div",{className:t.content,children:[Object(A.jsx)(S.a,{variant:"h4",children:"Connection failed"}),Object(A.jsx)(S.a,{variant:"body1",style:{textAlign:"center",marginTop:"10px"},children:"Couldn't connect to your computer. Is the VSM client companion running?"}),Object(A.jsx)("div",{className:t.buttons,children:Object(A.jsx)(ge.a,{variant:"outlined",color:"primary",onClick:e.retry,className:t.retryButton,children:"Retry"})})]})})})})},ct=a(167),ot=a(164),rt=Object(g.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var lt=function(e){var t=rt();return Object(A.jsx)(T.a,{className:t.backdrop,open:e.open,children:Object(A.jsx)(ct.a,{children:Object(A.jsx)(ot.a,{color:"#ffffff"})})})},st=Object(l.a)({palette:{type:"dark",primary:{main:"#fa7581"},secondary:{main:"#454545"}},typography:{fontFamily:["Chivo","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},overrides:{MuiCssBaseline:{"@global":{body:{"&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"darkgrey",outline:"1px solid slategrey"}}}}}});var dt=function(e){var t=Object(n.useState)(!0),a=Object(r.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(!0),l=Object(r.a)(o,2),j=l[0],p=l[1],x=Object(n.useState)(!1),f=Object(r.a)(x,2),g=f[0],v=f[1],y=Object(n.useState)(!1),w=Object(r.a)(y,2),k=w[0],S=w[1],C=Object(n.useState)(!1),N=Object(r.a)(C,2),_=N[0],I=N[1],D=Object(n.useState)(null),E=Object(r.a)(D,2),L=E[0],T=E[1];function W(e){p(!1),setTimeout((function(){c(!1)}),300)}function B(){c(!0),p(!0),I(!1),v(!1),T(null);(function(){return O.apply(this,arguments)})().then((function(e){v(!0),W()})).catch((function(){console.log("caught something"),v(!1),W(),T(Object(A.jsx)(it,{retry:B}))}))}return Object(n.useEffect)((function(){B()}),[]),Object(n.useEffect)((function(){g&&!_&&g&&!_&&m({request:"get_onboarding_state"}).then((function(e){console.log("onboarded: ".concat(e.response)),!1===e.response?S(!1):S(!0),I(!0)}))}),[g]),null!==h&&(h.onclose=function(e){console.log("disconnected"),v(!1),T(Object(A.jsx)(it,{retry:B}))}),Object(A.jsxs)(s.a,{theme:st,children:[Object(A.jsx)(d.a,{}),L,function(){if(i)return Object(A.jsx)(lt,{open:j})}(),_?Object(A.jsxs)(u.a,{basename:"/",children:[Object(A.jsx)(b.b,{exact:!0,path:"/",children:k?Object(A.jsx)(b.a,{to:"/collection"}):Object(A.jsx)(b.a,{to:"/onboarding"})}),Object(A.jsx)(b.b,{path:"/collection",children:Object(A.jsx)(We,{})}),Object(A.jsx)(b.b,{path:"/onboarding",children:Object(A.jsx)(at,{})})]}):null]})},ut=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,178)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),c(e),o(e)}))};o.a.render(Object(A.jsx)(i.a.StrictMode,{children:Object(A.jsx)(dt,{})}),document.getElementById("root")),ut()},89:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.3d802ad8.chunk.js.map